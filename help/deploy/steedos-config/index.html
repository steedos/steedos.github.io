<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="华炎魔方 Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="华炎魔方 Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="华炎魔方" href="/opensearch.xml">
<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?8e30e1c152eed21154e2090d348e7dec";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
<link rel="stylesheet" href="/website/libs/tailwind.min.css">
<script src="https://cdn.jsdelivr.net/npm/xgplayer@2.9.6/browser/index.js"></script><title data-react-helmet="true">配置文件 | 华炎魔方</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://www.steedos.com/help/deploy/steedos-config"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="配置文件 | 华炎魔方"><meta data-react-helmet="true" name="description" content="华炎魔方使用位于项目根目录的steedos-config.yml文件作为配置文件，可在其中配置各种参数。"><meta data-react-helmet="true" property="og:description" content="华炎魔方使用位于项目根目录的steedos-config.yml文件作为配置文件，可在其中配置各种参数。"><meta data-react-helmet="true" property="og:image" content="https://www.steedos.com/img/logo_platform.png"><meta data-react-helmet="true" name="twitter:image" content="https://www.steedos.com/img/logo_platform.png"><link data-react-helmet="true" rel="shortcut icon" href="/img/logo.png"><link data-react-helmet="true" rel="canonical" href="https://www.steedos.com/help/deploy/steedos-config"><link data-react-helmet="true" rel="alternate" href="https://www.steedos.com/help/deploy/steedos-config" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://www.steedos.com/help/deploy/steedos-config" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.2a1f096c.css">
<link rel="preload" href="/assets/js/runtime~main.5db31bcf.js" as="script">
<link rel="preload" href="/assets/js/main.fee160ef.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cn/"><img src="/img/logo_platform.png" alt="华炎魔方" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo_platform.png" alt="华炎魔方" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__item navbar__link">平台</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/platform/">产品概述</a></li><li><a class="dropdown__link" href="/platform/cases">项目案例</a></li><li><a class="dropdown__link" href="/platform/why">评估向导</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__item navbar__link">解决方案</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/products/contract/">合同管理</a></li><li><a class="dropdown__link" href="/products/cost/">费控管理</a></li><li><a class="dropdown__link" href="/products/project/">项目管理</a></li><li><a class="dropdown__link" href="/products/purchase/">采购管理</a></li><li><a class="dropdown__link" href="/products/sales/">销售管理</a></li><li><a class="dropdown__link" href="/products/workflow/">流程审批</a></li></ul></div><a class="navbar__item navbar__link" href="/pricing/platform">定价</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/help/">文档</a><a class="navbar__item navbar__link" href="/videos/">视频</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/help/deploy/">下载</a></div><div class="navbar__items navbar__items--right"><a href="https://cn.steedos.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">登录</a><a href="https://github.com/steedos/steedos-platform/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">快速向导</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/help/about">什么是华炎魔方？</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">服务端安装部署</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/help/deploy">安装向导</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/help/deploy/deploy_windows">Windows 安装</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/help/deploy/deploy_mac">Mac 安装</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/help/deploy/deploy_docker">Docker 安装</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/help/deploy/deploy_cluster">集群部署</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/help/deploy/steedos-config">配置文件</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">客户端</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">使用入门</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">设置和维护华炎魔方</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">开发人员</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">配置文件</h1></header><p>华炎魔方使用位于项目根目录的<code>steedos-config.yml</code>文件作为配置文件，可在其中配置各种参数。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="必须配置的参数"></a>必须配置的参数<a class="hash-link" href="#必须配置的参数" title="Direct link to heading">#</a></h2><p>要使用华炎魔方，以下参数配置不可缺少否则某些功能将不能正常使用。</p><ul><li><a href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E7%89%B9%E5%AE%9A%E5%8F%82%E6%95%B0">ROOT_URL</a>：项目访问地址，如果该参数配置不正确，将不能正常访问服务。</li><li><a href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E7%89%B9%E5%AE%9A%E5%8F%82%E6%95%B0">PORT</a>：项目占用服务器端口号，如果该参数配置不正确，将不能正常访问服务。</li><li><a href="#%E7%99%BB%E5%BD%95%E8%A7%84%E5%88%99">华炎魔方ID</a>：自定义登录界面LOGO等功能，需要设置该参数，否则不生效。</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="环境变量"></a>环境变量<a class="hash-link" href="#环境变量" title="Direct link to heading">#</a></h2><p>华炎魔方使用<code>.env</code>或<code>.env.local</code>作为环境变量配置文件，它们可以与<code>steedos-config.yml</code>文件一起配合使用来定义整个项目相关参数。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="环境变量特定参数"></a>环境变量特定参数<a class="hash-link" href="#环境变量特定参数" title="Direct link to heading">#</a></h3><p>以下特定参数只能在<code>.env</code>或<code>.env.local</code>环境变量文件中定义，且这两个参数必须定义缺一不可。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yml"><pre tabindex="0" class="prism-code language-yml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">ROOT_URL=http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">//192.168.0.95</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">PORT=3000</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">MONGO_URL=mongodb</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">//127.0.0.1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">27017/steedos</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>ROOT_URL: 项目访问地址，通常使用ip地址加端口号来表示项目访问的网络地址。</li><li>PORT: 项目服务所占用的服务器端口号。</li><li>MONGO_URL: 配置MONGODB数据库</li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>提示</h5></div><div class="admonition-content"><p><code>127.0.0.1</code>为本机服务的ip地址，<code>http://127.0.0.1:3000/</code>与<code>http://localhost:3000/</code>等效，通常来说不建议把ROOT_URL配置为该地址，比如手机客户端上就无法连接该地址。</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="配合使用"></a>配合使用<a class="hash-link" href="#配合使用" title="Direct link to heading">#</a></h3><p>可以在<code>steedos-config.yml</code>中配置相关参数指向某个环境变量，比如以下配置将取环境变量MONGO_URL的值作为默认数据源的访问地址。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yml"><pre tabindex="0" class="prism-code language-yml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">datasources</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">default</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">connection</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">MONGO_URL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>关于目前支持配置哪些参数请参考下面的 <a href="#%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E">参数说明</a>，你也可以查看下面的 <a href="#%E7%BB%BC%E5%90%88%E7%A4%BA%E4%BE%8B">综合示例</a> 来了解完整的配置文件应该是怎么样的。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="env与envlocal区别"></a><code>.env</code>与<code>.env.local</code>区别<a class="hash-link" href="#env与envlocal区别" title="Direct link to heading">#</a></h3><p><code>.env</code>与<code>.env.local</code>都是用来定义环境变量的，当两个文件同时存在时，如果某个环境变量同时在两个文件中定义过，会优先使用<code>.env.local</code>中的值。</p><p><code>.env.local</code>文件并不是必须的，无论是开发环境还是生产环境，通常来说你应该尽量多的把常用环境变量写入<code>.env</code>文件，并提交到代码仓库中，然后在本地开发环境或服务器生产环境中复制一份<code>.env</code>中的内容到<code>.env.local</code>文件中，并在<code>.env.local</code>文件中配置本地差异化的参数值。</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注意</h5></div><div class="admonition-content"><p>因为<code>.env</code>通常会提交到代码仓库中，所以该文件中不应该写入敏感信息，比如数据库密码，邮件或短信服务密码等，您应该把这些敏感信息写入到<code>.env.local</code>文件中。</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="参数说明"></a>参数说明<a class="hash-link" href="#参数说明" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="数据源"></a>数据源<a class="hash-link" href="#数据源" title="Direct link to heading">#</a></h3><p>配置当前项目需要引用的数据源，其中<code>default</code>数据源为必须配置的默认数据源，且该数据源作为系统内核数据源只能使用mongodb数据库。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yml"><pre tabindex="0" class="prism-code language-yml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">datasources</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">default</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">connection</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> mongodb</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">//127.0.0.1/steedos</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">objectFiles</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;./src/**&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">appFiles</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;./src/**&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>在数据源中可配置要连接到哪个数据库，要加载哪些业务对象，以及要显示哪些应用。</p><ul><li>使用<code>connection</code>参数配置要连接到的数据库信息，可定义每个数据源的数据库连接地址、账户及密码等。</li><li>使用<code>objectFiles</code>参数配置要加载该数据源下哪些业务对象，用于指定要加载的对象配置文件所在地址。</li><li>使用<code>appFiles</code>参数配置要加载哪些应用，用于指定要加载的应用配置文件所在地址。</li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>提示</h5></div><div class="admonition-content"><ul><li>业务对象通过所在数据源指定的数据库来保存数据。</li><li>系统内核数据源只能使用mongodb数据库，所有华炎魔方标准对象都保存在其中。</li><li>华炎魔方支持连接到其他常用数据库作为第三方数据源，目前已支持<code>SQL Server</code>、<code>Oracle</code>、<code>MySQL</code>、<code>PostgreSQL</code>、<code>Sqlite</code>。</li></ul></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="引用插件"></a>引用插件<a class="hash-link" href="#引用插件" title="Direct link to heading">#</a></h3><p>配置当前项目中需要启用的插件，以下配置会启用华炎客户关系管理系统和华炎合同管理系统作为插件，项目也因此会拥有这些插件内的功能。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yml"><pre tabindex="0" class="prism-code language-yml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">plugins</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@steedos/app-crm&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@steedos/app-contracts&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>提示</h5></div><div class="admonition-content"><p>请注意，在启用插件前，请确保这些插件都已经正确安装到项目中。</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="登录规则"></a>登录规则<a class="hash-link" href="#登录规则" title="Direct link to heading">#</a></h3><p>配置登录界面相关参数，例如是否允许注册、是否允许修改密码、是否允许创建企业。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yml"><pre tabindex="0" class="prism-code language-yml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">tenant</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Steedos</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">logo_url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">background_url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">saas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">enable_register</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">enable_create_tenant</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">enable_password_login</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">enable_bind_email</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">enable_bind_mobile</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">enable_mobile_code_login</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">enable_email_code_login</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>_id: 华炎魔方ID， 值可从 设置-公司设置-许可证-复制魔方ID 获得。</li><li>name: 项目名称</li><li>logo_url: logo图片地址</li><li>background_url: 背影图片地址</li><li>saas: 是否开启多租户模式</li><li>enable_register: 允许创建账户，默认true</li><li>enable_create_tenant: 允许创建企业，默认true</li><li>enable_password_login: 允许使用密码登录，启用时，注册和登录都默认使用密码。默认true</li><li>enable_bind_email: 强制绑定邮箱，默认false</li><li>enable_bind_mobile: 强制绑定手机号，默认false</li><li>enable_mobile_code_login: 允许使用手机验证码登录，启用时，注册和登录都默认使用验证码。</li><li>enable_email_code_login: 允许使用邮箱验证码登录，启用时，注册和登录都默认使用验证码。</li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>华炎魔方ID的提示</h5></div><div class="admonition-content"><ul><li>它是安装华炎魔方后首次注册账户时创建的团队唯一识别码，如果有多个团队每个团队也分别有自己的魔方ID。</li><li>为华炎魔方购买的许可证也使用魔方ID作为识别凭证，只要创建团队就可以免费获得魔方ID，详细请参考 <a href="/help/company/license">许可证</a>。</li><li><code>logo_url</code>、<code>background_url</code>等功能配置需要设置华炎魔方ID值，否则不生效。</li></ul></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="密码规则"></a>密码规则<a class="hash-link" href="#密码规则" title="Direct link to heading">#</a></h3><p>密码的复杂度是通过password.policy 属性来控制的，值为正则表达式。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yml"><pre tabindex="0" class="prism-code language-yml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">public</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">policy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ^</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">Za</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">z0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token number" style="color:rgb(247, 140, 108)">9</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token number" style="color:rgb(247, 140, 108)">8</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">$</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">policyerror</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;密码不能少于8位&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="账户相关"></a>账户相关<a class="hash-link" href="#账户相关" title="Direct link to heading">#</a></h3><p>配置账户相关参数。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yml"><pre tabindex="0" class="prism-code language-yml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">accounts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">mobile_phone_locales</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;zh-CN&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">mobile_regexp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;^[0-9]{11}$&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>mobile_phone_locales: 手机号本地化，配置为<code>zh-CN</code>表示使用中国的11位手机号，要支持其他国家手机号请参考 <a href="https://www.npmjs.com/package/validator" target="_blank" rel="noopener noreferrer">validator</a>。</li><li>mobile_regexp: 手机号格式正则表达式，使用一个正则表达式来描述正确的手机号格式。</li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>提示</h5></div><div class="admonition-content"><p>当同时配置了<code>mobile_phone_locales</code>和<code>mobile_regexp</code>参数时，优先使用<code>mobile_phone_locales</code>。</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="web服务url"></a>Web服务URL<a class="hash-link" href="#web服务url" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yml"><pre tabindex="0" class="prism-code language-yml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">webservices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">steedos</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> /</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="文件存储"></a>文件存储<a class="hash-link" href="#文件存储" title="Direct link to heading">#</a></h3><p>配置附件存储的相关参数。</p><p>附件可以保存在本地，也可以保存在阿里云或AWS S3服务中。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yml"><pre tabindex="0" class="prism-code language-yml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">public</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">cfs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">store</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;local&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">local</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">folder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;./storage&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">cfs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">aliyun</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">region</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">internal</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">bucket</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">folder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">accessKeyId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">secretAccessKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">aws</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">endpoint</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">bucket</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">accessKeyId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">secretAccessKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">s3ForcePathStyle</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  signatureVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li><code>public.cfs.store</code>: 配置附件存储在什么地方，目前支持三个选项，<code>local</code>表示存储在本地，<code>OSS</code>表示存到阿里云，<code>S3</code>表示存到AWS​，默认值为<code>local</code>。</li><li><code>public.cfs.local.folder</code>: 当配置附件存在本地时，需要配置文件夹路径。</li><li><code>cfs.aliyun</code>: 当配置附件存在阿里云时，需要购买阿里云服务并配置相关参数。</li><li><code>cfs.aws</code>: 当配置附件存在AWS时，需要购买AWS云服务并配置相关参数。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="文件预览"></a>文件预览<a class="hash-link" href="#文件预览" title="Direct link to heading">#</a></h3><p>华炎魔方支持在线预览PDF及Office文件，只需要配置对应的文件预览服务地址即可。</p><p>如果配置了文件预览服务，点击附件标题还是会下载附件，可以点击对应的预览按钮来直接打开文件，目前以下界面支持在线预览功能：</p><ul><li><a href="/help/workflow">审批王</a> 的申请单详细界面的附件列表和正文文件，其附件标题旁边会显示预览按钮。</li><li>华炎魔方对象记录详细界面的附件列表，比如合同详细界面的附件列表，每条附件记录右侧的下拉框列表会显示预览按钮。</li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>提示</h5></div><div class="admonition-content"><p>如果未配置文件预览服务，只能点击附件标题来下载文件,然后在本地查看文件内容。</p></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yml"><pre tabindex="0" class="prism-code language-yml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">public</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">webservices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">pdfOnline</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http://oss.steedos.com/apps/pdfviewer-es5/web/viewer.html?rangeChunkSize=1024&amp;file=&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">officeOnline</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://view.officeapps.live.com/op/view.aspx?src=&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li><code>public.webservices.pdfOnline.url</code>: PDF文件在线预览，需配置的预览服务地址，上述已配置的地址是华炎魔方部署到阿里云上的PDF文件在线预览服务地址。</li><li><code>public.webservices.officeOnline.url</code>: Office文件在线预览，需配置的预览服务地址，上述已配置的地址是微软提供的Office文件在线预览服务地址。</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="pdf文件预览注意事项"></a>PDF文件预览注意事项<a class="hash-link" href="#pdf文件预览注意事项" title="Direct link to heading">#</a></h4><p>因为PDF文件在线预览功能不支持跨域，如果您的华炎魔方项目不是运行于<code>steedos.com</code>域名下，需要另外配置网络代理服务才能正常使用PDF文件预览功能。</p><p>比如您可以把上述配置的PDF文件预览服务地址改为<code>http://192.168.0.66:88/pdfview/apps/pdfviewer-es5/web/viewer.html?rangeChunkSize=1024&amp;file=</code>，其中<code>http://192.168.0.66:88</code>为您的华炎魔方项目的访问地址，然后设置下nginx代理服务，把路由<code>pdfview</code>下的地址代理为<code>http://oss.steedos.com</code>即可。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="office文件预览注意事项"></a>Office文件预览注意事项<a class="hash-link" href="#office文件预览注意事项" title="Direct link to heading">#</a></h4><p>PDF文件预览服务是支持IP地址访问的，Office文件预览服务则与之不同，如果使用上述配置的微软在线预览服务时，需采用域名及默认端口访问，不能使用IP地址及非默认端口。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="邮件配置"></a>邮件配置<a class="hash-link" href="#邮件配置" title="Direct link to heading">#</a></h3><p>配置SMTP服务的相关参数，用于系统发送推送邮件。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yml"><pre tabindex="0" class="prism-code language-yml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">email</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">from</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">host</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">port</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">465</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">username</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>或</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yml"><pre tabindex="0" class="prism-code language-yml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">email</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">from</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li><code>from</code>: 邮件发送者账户，华炎魔方每封邮件发出去后发件人都显示为该账户。</li><li><code>host</code>: 邮件服务域名地址。</li><li><code>port</code>: 邮件服务端口号。</li><li><code>username</code>: 邮件服务使用的账户名。</li><li><code>password</code>: 邮件服务使用的账户密码。</li><li><code>url</code>: 邮件服务的URL地址，格式为<code>smtps://USERNAME:PASSWORD@HOST:PORT</code>，比如<code>smtps://username:password@email-smtp.us-east-1.amazonaws.com:465/</code>。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="发送短信"></a>发送短信<a class="hash-link" href="#发送短信" title="Direct link to heading">#</a></h3><p>配置手机短信服务，用于通过手机短信登录和接受账户提醒消息。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yml"><pre tabindex="0" class="prism-code language-yml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">sms</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">qcloud</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">smsqueue_interval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1000</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">sdkappid</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">appkey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    signname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>使用的是腾讯云短信服务<code>sdkappid</code>是应用ID，<code>appkey</code>是分配的密钥，<code>signname</code>是短信签名显示在短信的开头，如:【华炎云】您的验证码是：8888</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="定时任务"></a>定时任务<a class="hash-link" href="#定时任务" title="Direct link to heading">#</a></h3><p>以下是某些定时任务相关的参数。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yml"><pre tabindex="0" class="prism-code language-yml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">cron</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">statistics</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 0 0 0 * * *</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">mailqueue_interval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1000</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">push_interval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1000</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">calendar_dav_interval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">30000</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">calendar_remind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">60000</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">webhookqueue_interval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1000</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">instancerecordqueue_interval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10000</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">objectwebhooksqueue_interval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10000</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>statistics: 流程统计的执行时间，如上面的“0 0 0 * * *”意为每天的00:00:00 </li><li>mailqueue_interval: 邮件队列的轮询间隔(单位毫秒)</li><li>push_interval: 消息推送的轮询间隔(单位毫秒)</li><li>calendar_dav_interval: 日历同步的轮询间隔(单位毫秒)</li><li>calendar_remind: 日程提醒的轮询间隔(单位毫秒)</li><li>webhookqueue_interval: 流程触发器队列的轮询间隔(单位毫秒)</li><li>instancerecordqueue_interval: 对象流程队列的轮询间隔(单位毫秒)</li><li>objectwebhooksqueue_interval: 对象触发器队列的轮询间隔(单位毫秒)</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="综合示例"></a>综合示例<a class="hash-link" href="#综合示例" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_eoMF">steedos-config.yml</div><div class="codeBlockContent_hGly yml"><pre tabindex="0" class="prism-code language-yml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">datasources</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">default</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">connection</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">MONGO_URL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">objectFiles</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;./src/**&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">appFiles</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;./src/**&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">public</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">cfs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">store</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;local&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">local</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">folder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;./storage&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">plugins</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@steedos/app-crm&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@steedos/app-contracts&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">tenant</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">STEEDOS_TENANT_ID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">enable_register</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">enable_forget_password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">saas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">enable_password_login</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">enable_mobile_code_login</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">enable_email_code_login</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">enable_bind_mobile</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">sms</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">qcloud</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">smsqueue_interval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1000</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">sdkappid</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">STEEDOS_SMS_QCLOUD_SDKAPPID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">appkey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">STEEDOS_SMS_QCLOUD_APPKEY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">signname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">STEEDOS_SMS_QCLOUD_SIGNNAME</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">email</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">from</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 华炎魔方 &lt;support@steedos.com</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">MAIL_URL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">cron</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">instancerecordqueue_interval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10000</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_eoMF">.env</div><div class="codeBlockContent_hGly yml"><pre tabindex="0" class="prism-code language-yml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MONGO_URL=mongodb</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">//127.0.0.1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">27017/steedos</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">PORT=3000</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ROOT_URL=http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">//127.0.0.1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">3000/</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">STEEDOS_TENANT_ID=</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">STEEDOS_SMS_QCLOUD_SDKAPPID=</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">STEEDOS_SMS_QCLOUD_APPKEY=</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">STEEDOS_SMS_QCLOUD_SIGNNAME=</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_eoMF">.env.local</div><div class="codeBlockContent_hGly yml"><pre tabindex="0" class="prism-code language-yml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">MONGO_URL=mongodb</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">//127.0.0.1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">27017/steedos</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">PORT=3000</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ROOT_URL=http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">//127.0.0.1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">3000/</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">STEEDOS_TENANT_ID=519f004e8e296a1c5f00001d</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">STEEDOS_SMS_QCLOUD_SDKAPPID=xxx</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">STEEDOS_SMS_QCLOUD_APPKEY=xxx</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">STEEDOS_SMS_QCLOUD_SIGNNAME=xxx</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/help/deploy/deploy_cluster"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« 集群部署</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/help/clients/desktop"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">桌面客户端 »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#必须配置的参数" class="table-of-contents__link">必须配置的参数</a></li><li><a href="#环境变量" class="table-of-contents__link">环境变量</a><ul><li><a href="#环境变量特定参数" class="table-of-contents__link">环境变量特定参数</a></li><li><a href="#配合使用" class="table-of-contents__link">配合使用</a></li><li><a href="#env与envlocal区别" class="table-of-contents__link"><code>.env</code>与<code>.env.local</code>区别</a></li></ul></li><li><a href="#参数说明" class="table-of-contents__link">参数说明</a><ul><li><a href="#数据源" class="table-of-contents__link">数据源</a></li><li><a href="#引用插件" class="table-of-contents__link">引用插件</a></li><li><a href="#登录规则" class="table-of-contents__link">登录规则</a></li><li><a href="#密码规则" class="table-of-contents__link">密码规则</a></li><li><a href="#账户相关" class="table-of-contents__link">账户相关</a></li><li><a href="#web服务url" class="table-of-contents__link">Web服务URL</a></li><li><a href="#文件存储" class="table-of-contents__link">文件存储</a></li><li><a href="#文件预览" class="table-of-contents__link">文件预览</a></li><li><a href="#邮件配置" class="table-of-contents__link">邮件配置</a></li><li><a href="#发送短信" class="table-of-contents__link">发送短信</a></li><li><a href="#定时任务" class="table-of-contents__link">定时任务</a></li></ul></li><li><a href="#综合示例" class="table-of-contents__link">综合示例</a></li></ul></div></div></div></div></main></div></div><div><div class="bg-gray-100"><div class="max-w-screen-xl mx-auto py-12 px-4 sm:px-6 lg:py-16 lg:px-8"><div class="xl:grid xl:grid-cols-3 xl:gap-8"><div class="xl:col-span-1"><img class="h-10" src="/img/logo_platform.png" alt="华炎魔方"><p class="mt-8 text-gray-500 text-base leading-6">华炎魔方将低代码技术与企业业务场景结合，助力企业在最短时间内开发数字化解决方案，帮助企业快速落地现有业务战略，催生未来创新。</p><div class="mt-8 flex"><a href="tel://4008201612" class="text-gray-400 hover:text-gray-500"><span class="sr-only">Phone</span><svg viewBox="0 0 20 20" fill="currentColor" class="phone w-6 h-6"><path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"></path></svg></a><a href="https://github.com/steedos/steedos-platform/" class="ml-6 text-gray-400 hover:text-gray-500"><span class="sr-only">GitHub</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"></path></svg></a></div></div><div class="mt-12 grid grid-cols-2 gap-8 xl:mt-0 xl:col-span-2"><div class="md:grid md:grid-cols-2 md:gap-8"><div><h4 class="text-sm leading-5 font-semibold tracking-wider text-gray-400 uppercase">平台</h4><ul class="mt-4"><li><a href="/platform/" class="text-base leading-6 text-gray-500 hover:text-gray-900">平台概览</a></li><li class="mt-4"><a href="/platform/lowcode/" class="text-base leading-6 text-gray-500 hover:text-gray-900">低代码</a></li><li class="mt-4"><a href="/platform/cases" class="text-base leading-6 text-gray-500 hover:text-gray-900">客户案例</a></li><li class="mt-4"><a href="/pricing/platform" class="text-base leading-6 text-gray-500 hover:text-gray-900">版本与报价</a></li></ul></div><div class="mt-12 md:mt-0"><h4 class="text-sm leading-5 font-semibold tracking-wider text-gray-400 uppercase">解决方案</h4><ul class="mt-4"><li class="mt-4"><a href="/products/contract" class="text-base leading-6 text-gray-500 hover:text-gray-900">合同管理</a></li><li class="mt-4"><a href="/products/sales" class="text-base leading-6 text-gray-500 hover:text-gray-900">销售管理</a></li><li class="mt-4"><a href="/products/cost" class="text-base leading-6 text-gray-500 hover:text-gray-900">费控管理</a></li><li class="mt-4"><a href="/products/project" class="text-base leading-6 text-gray-500 hover:text-gray-900">项目管理</a></li><li class="mt-4"><a href="/products/workflow" class="text-base leading-6 text-gray-500 hover:text-gray-900">流程审批</a></li></ul></div></div><div class="md:grid md:grid-cols-2 md:gap-8"><div><h4 class="text-sm leading-5 font-semibold tracking-wider text-gray-400 uppercase">视频演示</h4><ul class="mt-4"><li><a href="/videos/steedos-digital-transformation/" class="text-base leading-6 text-gray-500 hover:text-gray-900">数字化转型</a></li><li class="mt-4"><a href="/videos/steedos-platform-features/" class="text-base leading-6 text-gray-500 hover:text-gray-900">低代码开发</a></li><li class="mt-4"><a href="/videos/lesson-object/" class="text-base leading-6 text-gray-500 hover:text-gray-900">零代码开发</a></li><li class="mt-4"><a href="/videos/workflow/admin-contracts" class="text-base leading-6 text-gray-500 hover:text-gray-900">自定义流程</a></li></ul></div><div class="mt-12 md:mt-0"><h4 class="text-sm leading-5 font-semibold tracking-wider text-gray-400 uppercase">关于</h4><ul class="mt-4"><li><a href="/company/about-us" class="text-base leading-6 text-gray-500 hover:text-gray-900">关于我们</a></li><li class="mt-4"><a href="/company/customers" class="text-base leading-6 text-gray-500 hover:text-gray-900">成功案例</a></li><li class="mt-4"><a href="/company/contact-us" class="text-base leading-6 text-gray-500 hover:text-gray-900">联系我们</a></li><li class="mt-4"><a href="tel://4008201612" class="text-base leading-6 text-gray-500 hover:text-gray-900">400-820-1612</a></li></ul></div></div></div></div><div class="mt-12 border-t border-gray-200 pt-8"><p class="text-base leading-6 text-gray-500 text-center">© 2021 华炎软件. 保留所有权利.（<a href="https://beian.miit.gov.cn/#/Integrated/recordQuery" target="_blank">沪ICP备09089283号-11</a>）</p><nav class="-mx-5 -my-2 flex flex-wrap justify-center" aria-label="Footer"><div class="px-3 py-2"><a href="/cn" class="text-base text-gray-500 hover:text-gray-900">中文</a></div><div class="px-3 py-2"><a href="https://www.steedos.org/" class="text-base text-gray-500 hover:text-gray-900">English</a></div></nav><div class="flex justify-center mt-10"><div class="text-center mr-8"><img class="h-36 w-36 mb-2" src="/assets/github/platform/cn/QR_wechat_developers.jpg" title="开发人员微信群"><div>开发人员微信群</div></div><div class="text-center mr-8"><img class="h-36 w-36 mb-2" src="/assets/github/platform/cn/business_consulting.jpg" title="商务咨询"><div>商务咨询</div></div><div class="text-center"><img class="h-36 w-36 mb-2" src="/assets/github/platform/cn/public_number.jpg" title="微信公众号"><div>微信公众号</div></div></div></div></div></div></div></div>
<script src="/assets/js/runtime~main.5db31bcf.js"></script>
<script src="/assets/js/main.fee160ef.js"></script>
</body>
</html>