<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="华炎魔方 Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="华炎魔方 Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="华炎魔方" href="/opensearch.xml">
<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?8e30e1c152eed21154e2090d348e7dec";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
<link rel="stylesheet" href="/website/libs/tailwind.min.css">
<script src="https://cdn.jsdelivr.net/npm/xgplayer@2.9.6/browser/index.js"></script><title data-react-helmet="true">表单设计 | 华炎魔方</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://www.steedos.com/help/workflow/admin_form"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="表单设计 | 华炎魔方"><meta data-react-helmet="true" name="description" content="表单设计"><meta data-react-helmet="true" property="og:description" content="表单设计"><meta data-react-helmet="true" property="og:image" content="https://www.steedos.com/img/logo_platform.png"><meta data-react-helmet="true" name="twitter:image" content="https://www.steedos.com/img/logo_platform.png"><link data-react-helmet="true" rel="shortcut icon" href="/img/logo.png"><link data-react-helmet="true" rel="canonical" href="https://www.steedos.com/help/workflow/admin_form"><link data-react-helmet="true" rel="alternate" href="https://www.steedos.com/help/workflow/admin_form" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://www.steedos.com/help/workflow/admin_form" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.2a1f096c.css">
<link rel="preload" href="/assets/js/runtime~main.7be6050d.js" as="script">
<link rel="preload" href="/assets/js/main.fcc85016.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cn/"><img src="/img/logo_platform.png" alt="华炎魔方" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo_platform.png" alt="华炎魔方" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__item navbar__link">平台</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/platform/">产品概述</a></li><li><a class="dropdown__link" href="/platform/cases">项目案例</a></li><li><a class="dropdown__link" href="/pricing/platform">定价</a></li><li><a class="dropdown__link" href="/pricing/platform-cloud">云服务</a></li><li><a class="dropdown__link" href="/pricing/support-developer">开发者支持</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__item navbar__link">应用市场</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/products/contract/">合同管理</a></li><li><a class="dropdown__link" href="/products/cost/">费控管理</a></li><li><a class="dropdown__link" href="/products/project/">项目管理</a></li><li><a class="dropdown__link" href="/products/purchase/">采购管理</a></li><li><a class="dropdown__link" href="/products/sales/">销售管理</a></li><li><a class="dropdown__link" href="/products/workflow/">流程审批</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/help/">文档</a><a class="navbar__item navbar__link" href="/videos/">视频</a><a class="navbar__item navbar__link" href="/help/deploy/">下载</a></div><div class="navbar__items navbar__items--right"><a href="https://cn.steedos.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">登录</a><a href="https://github.com/steedos/steedos-platform/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">使用入门</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">设置和维护审批王</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/help/workflow/admin">概述</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/help/workflow/admin_form">表单设计</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/help/workflow/admin_flow">流程设计</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/help/no-code/object_workflows">对象流程映射</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/help/workflow/admin_picturesignature">图片签名</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/help/workflow/faq">使用技巧</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">表单设计</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="表单设计"></a>表单设计<a class="hash-link" href="#表单设计" title="Direct link to heading">#</a></h2><p>我们所说的表单就是申请单，用户在提交申请的时候，什么地方可以填，需要填写什么内容，是输入还是选择等等，这些都是管理员在后台设置里面定义的。</p><p>设计表单的操作就是对照实际的申请单，从系统中选择相应的字段类型，逐一添加，形成一张电子申请单的样式。不同的字段类型，展现给用户的界面也是不同的。比如下拉框，用户就是从几个选项中选择一个内容；比如数值字段，用户只能输入数字等。字段类型可参照下一节“字段”。</p><p>以下以“日常费用报销”单为例，为您演示设计表单的操作步骤。</p><ul><li>登录审批王之后，首先点击“设置-流程”，点击“流程设计器”。</li></ul><p><img alt="附流程设计器" src="/assets/images/流程设计器-a8c049cc6386dc6ef3a632907c4c0a11.png"></p><ul><li><p>在系统弹出的页面中，点击右上角的“新增流程”按钮。</p></li><li><p>输入流程名称，如“日常费用报销”，点击“好”按钮。</p></li><li><p>系统默认显示的是流程步骤设计页面，在窗口上方选择“表单”。</p></li></ul><p><img alt="表单设计" src="/assets/images/表单设计-bbf35a584dc75b5aae6bfb3095bc79c9.png"></p><ul><li><p>添加字段。报销单的第一个字段是“所在部门”，为录入的文本，所以添加一个“文本”字段。鼠标点中右侧“添加字段”标签下的“文本”，拖动到左侧的合适位置，然后松开鼠标。或者鼠标直接单击右侧“添加字段”标签下的“文本”，这时，左侧会增加一行“文本”字段。</p></li><li><p>鼠标选中左侧的“文本”，再点击右侧的“属性”标签，这时出现的就是“文本”字段的所有属性，可酌情修改。修改“字段名”为“所在部门”，不修改“显示名称”。在“公式”一栏的输入框内，输入“{applicant.organization.fullname}”，这样，在填写该表单时，系统将会自动显示“所在部门”为提交人所在部门。关于公式，可参考&quot;字段公式&quot;</p></li></ul><p><img alt="文本" src="/assets/images/文本-949a57de8cc5628d878ca5506bcdabd4.png"></p><ul><li><p>报销单的第二块是“报销明细”，其下包括数个字段，实际填写报销单时，可以增加不定行数的明细数据。所以，需要添加一个“表格”字段，并将其下字段都置于此“表格”的范围之内。鼠标点中右侧“添加字段”标签下的“表格”，拖动到左侧的合适位置，然后松开鼠标。也可以直接单击右侧“添加字段”标签下的“表格”，这时，左侧会增加一行“表格”字段。</p></li><li><p>鼠标选中左侧的此“表格”，点击右侧的“属性”标签，这时出现的就是“表格”字段的所有属性，可修改：“字段名”为“报销明细”，“描述”内则填上“注：若用其他发票代替，请选择实际用途。如购买办公用品由于没有发票而用车票代替，那么费用类别里应该选择办公用品。”</p></li></ul><p><img alt="表格" src="/assets/images/表格-b2e3384507f59c77b2bb6bdc6d1c91a7.png"></p><ul><li><p>报销明细中的第一个字段是“费用类别”，属于下拉框字段。拖动右侧“下拉框”到左侧的“报销明细”中。</p></li><li><p>在该下拉框属性下，修改字段名，在“输入选项”框内填上可供选择的选项（以回车为分隔），并将该字段设置为必填字段。</p></li></ul><p><img alt="选择框" src="/assets/images/选择框-5c0a10b5a4601dfc9f7949cbb42550ed.png"></p><ul><li><p>报销明细中的第二个字段是“报销金额”，属于数值字段，拖动右侧“数值”到左侧的“报销明细”中。</p></li><li><p>在该数值字段属性处，设置字段名、小数点位数，以及“必填”等。</p></li><li><p>继续为表格添加“日期”字段，并在该日期字段的属性处设置字段名为“费用产生日期”，以及设置改字段为必填字段。</p></li><li><p>在表格中继续添加文本字段，并在该字段的属性处设置该字段的字段名为“备注”。</p></li><li><p>报销单中还有一字段“报销金额合计”，为“报销明细”中的“报销金额”的合计值。所以，需要增加一个“数值”字段，并设置其值为“报销金额”的合计值。这时，我们点击表头区域，通过拖动或单击添加一个“数值”字段，设置字段名为“报销金额合计”，在公式输入栏内填入“sum({报销金额})”。这样，在填写该申请单时，输入明细的报销金额，系统会自动计算并将报销金额合计显示在“报销金额合计”处。</p></li></ul><p><img alt="金额合计" src="/assets/images/金额合计-51dfb122e812099f62424dbf6fd56a5a.png"></p><ul><li><p>点击左侧某字段的右上角的“-”即可删除该字段。</p></li><li><p>上下拖动字段，则可以更改字段的上下位置。</p></li><li><p>在界面的左上角有“保存”和“关闭”选项。设计过程中，点击“保存”可随时保存；设计完毕后，点击“关闭”，则保存新表单的内容，并关闭“流程设计器”。</p></li><li><p>回到表单设置界面，将表单的“启用状态”按钮点开，即可开始使用该表单。</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="字段"></a>字段<a class="hash-link" href="#字段" title="Direct link to heading">#</a></h2><p>为了更便捷的设计申请单，审批王提供了多种类型的字段类型。</p><p>申请单中的字段类型包括了三类：输入类字段、选择类字段、以及其他字段。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="输入类字段"></a>输入类字段<a class="hash-link" href="#输入类字段" title="Direct link to heading">#</a></h3><p>输入类字段指通过输入方式添加内容的字段，包括：</p><ul><li>文本：适用于输入文本内容的填写框，是最常用的的字段类型，对输入内容没有限制。</li><li>数值：要求填写的内容必须是数字，适用于金额、合计等，也可用于计算公式的编写。</li><li>日期：可用于选择年月日的日期，格式为“yy-mm-dd”。</li><li>日期-时间：在日期的基础上增加了具体的几点几分。</li><li>勾选框：用于选择是或否。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="选择类字段"></a>选择类字段<a class="hash-link" href="#选择类字段" title="Direct link to heading">#</a></h3><ul><li>下拉框：通过字段属性预置可选择的内容，只可选择一项。</li><li>选择用户：可在系统已有的用户中选择，名字将会显示在表单中，已邀请的用户无论激活与否都在选择范围内。</li><li>选择部门：可在系统已有的部门中选择，部门的全路径名字将会显示在表单中。</li><li>单选：通过字段属性可预置选择项，用户只能选择一项。</li><li>多选：通过字段属性可预置选择项，用户可选择多项。</li><li>Odata：通过字段属性可预置选择项，默认只可选择一项，属性可设置多选；可参照下图，进行配置，必填属性“字段名”必须为下拉数据的id，“Odata API”配置下拉数据的URL地址，“可搜索字段”配置下拉数据相关属性值，“公式”配置下拉数据的显示名，非必填项“过滤条件”按需填写下拉数据的某个属性的条件。</li></ul><p><img alt="odata" src="/assets/images/odata-9b0c08374869a0f2bab73e296d2fcf13.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="其他类型字段说明"></a>其他类型字段说明<a class="hash-link" href="#其他类型字段说明" title="Direct link to heading">#</a></h3><ul><li>分组：可将说明同一事务的字段进行归类。</li><li>表格：插入一个表格，可填写明细信息等。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="字段属性"></a>字段属性<a class="hash-link" href="#字段属性" title="Direct link to heading">#</a></h3><p><img alt="字段属性" src="/assets/images/字段属性-6421a694db0ec460691833d61d4cbdd1.png"></p><ul><li>字段名：实际存放在数据库中的名字，此名字在同一张申请单中不可重复。今后公式和条件判断都将使用字段名。</li><li>显示名称：审批单中实际显示的名字，同一张申请单中可重复，默认的显示名和字段名相同，用户也可自行修改。</li><li>必填：必填打勾后，提交的申请单不允许为空，画布上以“*”标记。若不打勾，则在提交申请单时候可以为空。</li><li>宽字段：打勾后，字段显示宽度跨两列，不打勾，字段显示宽度只有一列。</li><li>列表显示：打勾后，在任何地方，进入高级搜索界面后，选择该字段所在的流程，会在列表显示的时候就会多一列显示此字段的内容。</li><li>内容可搜：打勾后，在任何申请单的列表界面，根据该字段的内容，搜索都可搜索到相应申请单。</li><li>默认值：根据需要，预置在字段中的值，可修改。</li><li>勾选、多选、单选字段属性：输入选项—设置可选项。</li><li>用户、部门选择字段属性：选择类型—可选一个还是多个。</li></ul><p><strong>注：字段名需唯一，显示名称可以重复。</strong></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="子表"></a>子表<a class="hash-link" href="#子表" title="Direct link to heading">#</a></h3><p>在日常工作中，一个主表单里面通常还会嵌套另一个表格，我们称之为“子表”。子表的作用类似于明细表，它拥有多行数据，且字段名都是相同的，用户在填写表单时，可以输入任意多行数据。以“日常报销申请单”为例，报销明细就是子表。子表添加的方式如下：</p><ul><li>设计表单时，选择“添加字段”下的表格。</li><li>选中表格，“属性”的描述中输入“报销明细”。</li><li>在该表格中添加不同的字段，比如增加下拉框“报销类别”，输入办公用品、交通费等选项。</li><li>添加数值字段“报销金额”,添加日期字段“费用产生日期”。</li></ul><p>这样，用户在填写日常报销申请单时，点击“+”就会出现“报销类别”“报销金额”“费用产生日期”三个字段，填写完内容后，子表中会出现这一条记录，再点击“+”，输入一行数据，重复操作，可以将每一笔报销的费用都输入到表格中。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="表单模板"></a>表单模板<a class="hash-link" href="#表单模板" title="Direct link to heading">#</a></h2><p>如果您熟悉HTML的编写，可以使用 html 自定义表单样式。默认表格样式的表单，一行显示2个字段，宽字段一行显示1个，宽度高度等都是系统固定的，不能通过字段属性进行调整，但是您可以通过导出默认模板，下载html文件，并修改表单的 html 结构和样式来实现自定义功能。</p><p>例如，为了实现如下图中的Excel表格样式，具体操作如下：</p><p><img alt="表单模板" src="/assets/images/html_1-61671448c3f58bdc5650cbb8b98a8463.png"></p><ul><li>管理员登录系统后，首先点击“设置-流程设置-流程”，点击“资本性支出项目费用指标控制审批单”，进入到流程详情页。</li><li>点击右上角的按钮组合键中的“导出默认模板”，下载该流程的默认表单html文件，文件名为&#x27;资本性支出项目费用指标控制审批单.html&#x27;。</li><li>用代码编辑工具或记事本打开html文件，根据实际情况，修改表单的html结构，以及添加css样式。</li><li>html文件修改完成后，选中所有代码并复制，在流程详情页的“模板”-“表单模板”，点击编辑，将复制的代码粘贴到表单模板中，并保存确认。</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;style</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">//在这里通过id、class等定义样式</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/style</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;div class=&#x27;instance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">template&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">&lt;table class=&quot;table-page-title form-table no-border text-align-center&quot; style=&quot;width</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token key atrule">100%;display</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> inline</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">table;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &lt;tr class=&quot;instance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">name&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &lt;td class=&quot;instance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">table</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">td page</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">title&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">instance.name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &lt;/td</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &lt;/tr</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;/table</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;table class=&quot;table</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">page</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">body form</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">table&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &lt;tr style=&quot;height</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">0px&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            //默认是2个字段4列，可通过添加th增加多列，以及设置width的大小来定义每列的宽度</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token key atrule">&lt;th style=&#x27;width</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 11%&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">&lt;/th</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token key atrule">&lt;th style=&#x27;width</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 11%&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">&lt;/th</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token key atrule">&lt;th style=&#x27;width</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 8%&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">&lt;/th</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token key atrule">&lt;th style=&#x27;width</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 10%&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">&lt;/th</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token key atrule">&lt;th style=&#x27;width</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 8%&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">&lt;/th</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &lt;th</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">&lt;/th</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token key atrule">&lt;th style=&#x27;width</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 12%&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">&lt;/th</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &lt;th</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">&lt;/th</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token key atrule">&lt;th style=&#x27;width</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 12%&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">&lt;/th</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &lt;th</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">&lt;/th</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &lt;/tr</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        //下面是表单内容</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;/table</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/div</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p>以上代码为html文件的默认格式，在不破坏整体结构的前提下，通过增加或删除相关内容，以及增加css样式，改变表单的显示样式。</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="签字意见设置"></a>签字意见设置<a class="hash-link" href="#签字意见设置" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="意见栏公式"></a>意见栏公式<a class="hash-link" href="#意见栏公式" title="Direct link to heading">#</a></h3><p>配置意见栏公式，将流程某一步骤处理人的意见显示在申请单的某一栏上。
以下以发文流程为例介绍意见栏公式的配置过程：</p><ul><li>进入流程设计器，发文流程中有一步骤叫“领导签发”，需要领导在处理时填写个人意见。</li><li>进入申请单设计，添加一个文本类型的字段，鼠标选中新加的文本字段，在右侧栏里切换到“属性”栏，将此字段命名为“领导批示”。</li><li>下方“公式”栏里写{yijianlan:{step:&quot;领导签发&quot;}}，注意step.后面跟流程某一步骤名。</li><li>保存之后，当“领导签发”步骤，领导可以在申请单上看到“领导批示”栏，在其右下角有“签批”按钮。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="常见的意见栏公式"></a>常见的意见栏公式<a class="hash-link" href="#常见的意见栏公式" title="Direct link to heading">#</a></h3><p>常见的意见栏公式如下：</p><ul><li>一个步骤一个意见栏：“{yijianlan:{step:&quot;领导签发&quot;}}”。该步骤如果传阅给其他人，并勾选签批字段框，则发件者和收件者的意见都会出现在意见栏中。</li><li>只显示传阅人员签批意见栏：“{yijianlan:{step:&quot;集团文书处理&quot;,only_cc: true}}”。在文书处理步骤传阅给其他人，可在此意见栏上签批意见；该步骤如果传阅给其他人也只显示收件者的意见。</li><li>只显示处理人员意见：“{yijianlan:{step:&quot;领导批示&quot;, only_handler:true}}”</li><li>多个步骤一个意见栏：“{yijianlan:{step:&quot;股份公司领导意见&quot;}};{yijianlan:{step:&quot;集团公司领导意见&quot;}}”。股份公司领导步骤签的意见和集团公司领导签的意见出现在同一个意见栏上。</li><li>图片签名：“{yijianlan:{step:&quot;领导批示&quot;, default:&quot;已阅&quot;, image_sign: true, only_cc: false}}”，配置了图片签名的处理人，签批意见之后，申请单上会以图片签名结尾。</li><li>配置默认意见：“{yijianlan:{step:&quot;领导批示&quot;, default:&quot;已阅&quot;}}”，处理人在提交申请单后，在意见栏为空的情况下，系统会默认为您签下“已阅”的意见。</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="标题公式"></a>标题公式<a class="hash-link" href="#标题公式" title="Direct link to heading">#</a></h2><p>审批王中每个提交的申请单都有系统标题，系统默认格式是流程名称+流水号。为了更便捷的定位申请单，申请单的标题可以使用申请单中的某一字段值或多个字段值组合，达到自定义文件标题的目的。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="标题公式设置"></a>标题公式设置<a class="hash-link" href="#标题公式设置" title="Direct link to heading">#</a></h3><ul><li>登录系统，点击“流程设计器”。</li><li>通过流程分类找到需要设置文件标题的流程。</li><li>点击“表单”选项，进入表单编辑页面，选中表单名称部分，在页面右侧会显示表单属性设置页。</li><li>在标题公式一栏中可设施标题显示的内容。</li></ul><p><img alt="流程标题" src="/assets/images/流程标题-6a1203f01d806c816051daf6f4655f25.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="标题公式编写"></a>标题公式编写<a class="hash-link" href="#标题公式编写" title="Direct link to heading">#</a></h3><ul><li>取单个表单字段内容为文件标题：{字段名}。如销售合同申请单需要把合同名称作为文件标题，则为{合同名称}。</li><li>取多个表单字段组合为文件标题：{字段名}+{字段名}。如请假申请单需要把请假类型和请假天数作为文件标题，则为{请假类别}+{tianshu}。</li><li>默认值加系统字段为文件标题：&quot;默认值&quot;+{字段名}。如用印申请单的文件标题为&quot;申请使用&quot;+{印章类型}。</li><li>含有系统字段的文件标题：常用的系统字段如提交日期{submit_date},申请人名称{applicant_name}，审批单编号{insname}。如工作周报的文件标题为{applicant.name}+&quot;周报 &quot;+{submit.date}</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="表单脚本"></a>表单脚本<a class="hash-link" href="#表单脚本" title="Direct link to heading">#</a></h2><p>如果您熟悉脚本的编写，可以通过使用JavaScript脚本语言在表单中添加脚本。除了使用我们提供的公式、条件等格式之外，您还可以通过添加脚本来实现自定义功能。</p><p>例如，为了实现对数值型金额字段自动转换成大写金额，可以在表单脚本中输入以下语句:</p><p>CoreForm.custom_numToCny = function (num) {</p><p>if(isNaN(num))return &quot;无效数值！&quot;;</p><p>var strPrefix=&quot;&quot;;</p><p>if(num&lt;0)strPrefix =&quot;(负)&quot;;</p><p>num=Math.abs(num);</p><p>if(num&gt;=1000000000000)return &quot;无效数值！&quot;;</p><p>var strOutput = &quot;&quot;;</p><p>var strUnit = &#x27;仟佰拾亿仟佰拾万仟佰拾元角分&#x27;;</p><p>var strCapDgt=&#x27;零壹贰叁肆伍陆柒捌玖&#x27;;</p><p>num += &quot;00&quot;;</p><p>var intPos = num.indexOf(&#x27;.&#x27;);</p><p>if (intPos &gt;= 0){</p><p>num = num.substring(0, intPos) + num.substr(intPos + 1, 2);</p><p>}</p><p>strUnit = strUnit.substr(strUnit.length - num.length);</p><p>for (var i=0; i &lt; num.length; i++){</p><p>strOutput += strCapDgt.substr(num.substr(i,1),1) + strUnit.substr(i,1);</p><p>}</p><p>return strPrefix+strOutput.replace(/零角零分$/, &#x27;整&#x27;).replace(/零[仟佰拾]/g, &#x27;零&#x27;).replace(/零{2,}/g, &#x27;零&#x27;).replace(/零([亿|万])/g, &#x27;$1&#x27;).replace(/零+元/, &#x27;元&#x27;).replace(/亿零{0,3}万/, &#x27;亿&#x27;).replace(/^元/, &quot;零元&quot;);</p><p>};</p><p>字段脚本</p><p>CoreForm.custom_numToCny({total});</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="字段公式"></a>字段公式<a class="hash-link" href="#字段公式" title="Direct link to heading">#</a></h2><p>给字段增加公式之后，填写审批单的时候，就无需录入此字段的值，而是由系统根据公式得到相应的值。常见的公式包括：</p><ul><li><p>取一个字段的值：使用“{”和“}” (注意都是半角)将字段名扩起来，如：{请假天数}</p></li><li><p>基于数值字段的函数：</p><ul><li>加：{字段名1}+{字段名2}</li><li>减：{字段名1}-{字段名2}</li><li>乘：{单价}*{数量}</li><li>除：{总金额}/{数量}</li></ul></li><li><p>基于表格（子表）中的数值字段的函数：</p><ul><li>合计:   sum({费用})</li><li>平均值：average({费用})</li><li>计数：  count({物品})</li><li>最大值：max({费用})</li><li>最小值：min({费用})</li><li>金额大写：numToRMB({金额})</li></ul></li><li><p>基于提交人的系统变量：包括姓名、角色、部门等</p><ul><li>提交人的姓名：{applicant.name}</li><li>提交人所在部门（当申请人属于多个部门时，为所在主部门的全路径）： {applicant.organization.fullname}</li><li>提交人所在部门（最底层部门名）： {applicant.organization.name}</li><li>提交人的角色名： {applicant.roles}</li><li>提交人的手机： {applicant.mobile}</li><li>提交人的固定电话： {applicant.work_phone}</li><li>提交人的职务： {applicant.position}</li></ul></li><li><p>基于姓名表单字段的系统变量：包括姓名、角色、部门等</p><ul><li>“报销人”所在部门（当报销人属于多个部门时，为所在主部门的全路径）： {报销人}.organization.fullname</li><li>“报销人”所在部门（最底层部门名）： {报销人}.organization.name</li><li>“报销人”的角色名： {报销人}.roles</li><li>“报销人”的姓名： {报销人}.name</li><li>“报销人”的手机： {报销人}.mobile</li><li>“报销人”的固定电话： {报销人}.work_phone</li><li>“报销人”的职务： {报销人}.position</li></ul></li><li><p>基于签批字段的公式使用：</p><ul><li>显示此步骤所有意见，含传阅 ： {traces.步骤名称}</li><li>只显示此步骤的传阅意见： {traces.步骤名称.cc}</li></ul></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/help/workflow/admin"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« 概述</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/help/workflow/admin_flow"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">流程设计 »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#表单设计" class="table-of-contents__link">表单设计</a></li><li><a href="#字段" class="table-of-contents__link">字段</a><ul><li><a href="#输入类字段" class="table-of-contents__link">输入类字段</a></li><li><a href="#选择类字段" class="table-of-contents__link">选择类字段</a></li><li><a href="#其他类型字段说明" class="table-of-contents__link">其他类型字段说明</a></li><li><a href="#字段属性" class="table-of-contents__link">字段属性</a></li><li><a href="#子表" class="table-of-contents__link">子表</a></li></ul></li><li><a href="#表单模板" class="table-of-contents__link">表单模板</a></li><li><a href="#签字意见设置" class="table-of-contents__link">签字意见设置</a><ul><li><a href="#意见栏公式" class="table-of-contents__link">意见栏公式</a></li><li><a href="#常见的意见栏公式" class="table-of-contents__link">常见的意见栏公式</a></li></ul></li><li><a href="#标题公式" class="table-of-contents__link">标题公式</a><ul><li><a href="#标题公式设置" class="table-of-contents__link">标题公式设置</a></li><li><a href="#标题公式编写" class="table-of-contents__link">标题公式编写</a></li></ul></li><li><a href="#表单脚本" class="table-of-contents__link">表单脚本</a></li><li><a href="#字段公式" class="table-of-contents__link">字段公式</a></li></ul></div></div></div></div></main></div></div><div><div class="bg-gray-100"><div class="max-w-screen-xl mx-auto py-12 px-4 sm:px-6 lg:py-16 lg:px-8"><div class="xl:grid xl:grid-cols-3 xl:gap-8"><div class="xl:col-span-1"><img class="h-10" src="/img/logo_platform.png" alt="华炎魔方"><p class="mt-8 text-gray-500 text-base leading-6">华炎魔方将低代码技术与企业业务场景结合，助力企业在最短时间内开发数字化解决方案，帮助企业快速落地现有业务战略，催生未来创新。</p><div class="mt-8 flex"><a href="tel://4008201612" class="text-gray-400 hover:text-gray-500"><span class="sr-only">Phone</span><svg viewBox="0 0 20 20" fill="currentColor" class="phone w-6 h-6"><path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"></path></svg></a><a href="https://github.com/steedos/steedos-platform/" class="ml-6 text-gray-400 hover:text-gray-500"><span class="sr-only">GitHub</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"></path></svg></a></div></div><div class="mt-12 grid grid-cols-2 gap-8 xl:mt-0 xl:col-span-2"><div class="md:grid md:grid-cols-2 md:gap-8"><div><h4 class="text-sm leading-5 font-semibold tracking-wider text-gray-400 uppercase">平台</h4><ul class="mt-4"><li><a href="/platform/" class="text-base leading-6 text-gray-500 hover:text-gray-900">平台概览</a></li><li class="mt-4"><a href="/platform/lowcode/" class="text-base leading-6 text-gray-500 hover:text-gray-900">低代码</a></li><li class="mt-4"><a href="/platform/cases" class="text-base leading-6 text-gray-500 hover:text-gray-900">客户案例</a></li><li class="mt-4"><a href="/pricing/platform" class="text-base leading-6 text-gray-500 hover:text-gray-900">版本与报价</a></li></ul></div><div class="mt-12 md:mt-0"><h4 class="text-sm leading-5 font-semibold tracking-wider text-gray-400 uppercase">解决方案</h4><ul class="mt-4"><li class="mt-4"><a href="/products/contract" class="text-base leading-6 text-gray-500 hover:text-gray-900">合同管理</a></li><li class="mt-4"><a href="/products/sales" class="text-base leading-6 text-gray-500 hover:text-gray-900">销售管理</a></li><li class="mt-4"><a href="/products/cost" class="text-base leading-6 text-gray-500 hover:text-gray-900">费控管理</a></li><li class="mt-4"><a href="/products/project" class="text-base leading-6 text-gray-500 hover:text-gray-900">项目管理</a></li><li class="mt-4"><a href="/products/workflow" class="text-base leading-6 text-gray-500 hover:text-gray-900">流程审批</a></li></ul></div></div><div class="md:grid md:grid-cols-2 md:gap-8"><div><h4 class="text-sm leading-5 font-semibold tracking-wider text-gray-400 uppercase">视频演示</h4><ul class="mt-4"><li><a href="/videos/steedos-digital-transformation/" class="text-base leading-6 text-gray-500 hover:text-gray-900">数字化转型</a></li><li class="mt-4"><a href="/videos/steedos-platform-features/" class="text-base leading-6 text-gray-500 hover:text-gray-900">低代码开发</a></li><li class="mt-4"><a href="/videos/lesson-object/" class="text-base leading-6 text-gray-500 hover:text-gray-900">零代码开发</a></li><li class="mt-4"><a href="/videos/workflow/admin-contracts" class="text-base leading-6 text-gray-500 hover:text-gray-900">自定义流程</a></li></ul></div><div class="mt-12 md:mt-0"><h4 class="text-sm leading-5 font-semibold tracking-wider text-gray-400 uppercase">关于</h4><ul class="mt-4"><li><a href="/company/about-us" class="text-base leading-6 text-gray-500 hover:text-gray-900">关于我们</a></li><li class="mt-4"><a href="/company/customers" class="text-base leading-6 text-gray-500 hover:text-gray-900">成功案例</a></li><li class="mt-4"><a href="/company/contact-us" class="text-base leading-6 text-gray-500 hover:text-gray-900">联系我们</a></li><li class="mt-4"><a href="tel://4008201612" class="text-base leading-6 text-gray-500 hover:text-gray-900">400-820-1612</a></li></ul></div></div></div></div><div class="mt-12 border-t border-gray-200 pt-8"><p class="text-base leading-6 text-gray-500 text-center">© 2021 华炎软件. 保留所有权利.（<a href="https://beian.miit.gov.cn/#/Integrated/recordQuery" target="_blank">沪ICP备09089283号-11</a>）</p><nav class="-mx-5 -my-2 flex flex-wrap justify-center" aria-label="Footer"><div class="px-3 py-2"><a href="/cn" class="text-base text-gray-500 hover:text-gray-900">中文</a></div><div class="px-3 py-2"><a href="https://www.steedos.org/" class="text-base text-gray-500 hover:text-gray-900">English</a></div></nav><div class="flex justify-center mt-10"><div class="text-center mr-8"><img class="h-36 w-36 mb-2" src="/assets/github/platform/cn/QR_wechat_developers.jpg" title="开发人员微信群"><div>开发人员微信群</div></div><div class="text-center mr-8"><img class="h-36 w-36 mb-2" src="/assets/github/platform/cn/business_consulting.jpg" title="商务咨询"><div>商务咨询</div></div><div class="text-center"><img class="h-36 w-36 mb-2" src="/assets/github/platform/cn/public_number.jpg" title="微信公众号"><div>微信公众号</div></div></div></div></div></div></div></div>
<script src="/assets/js/runtime~main.7be6050d.js"></script>
<script src="/assets/js/main.fcc85016.js"></script>
</body>
</html>