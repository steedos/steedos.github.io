<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-no-code/customize/fields/field-type-summary" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.1">
<title data-rh="true">累计汇总字段 | Steedos</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.steedos.org/zh-CN/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://www.steedos.org/zh-CN/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://www.steedos.org/zh-CN/no-code/customize/fields/field-type-summary"><meta data-rh="true" property="og:locale" content="zh_CN"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="累计汇总字段 | Steedos"><meta data-rh="true" name="description" content="累计汇总字段会自动计算相关记录中的值。您可以创建累计汇总字段，使其值基于主表/子表关系中某个子表的字段值汇总，并在主记录中显示该汇总结果。子表记录必须通过主表/子表直接与主记录相关。例如，您要在客户的发票相关列表中显示所有相关发票自定义对象记录的发票总金额。您可在名为“发票总金额”的自定义金额字段中定义这一汇总信息。"><meta data-rh="true" property="og:description" content="累计汇总字段会自动计算相关记录中的值。您可以创建累计汇总字段，使其值基于主表/子表关系中某个子表的字段值汇总，并在主记录中显示该汇总结果。子表记录必须通过主表/子表直接与主记录相关。例如，您要在客户的发票相关列表中显示所有相关发票自定义对象记录的发票总金额。您可在名为“发票总金额”的自定义金额字段中定义这一汇总信息。"><link data-rh="true" rel="icon" href="/zh-CN/img/favicon.png"><link data-rh="true" rel="canonical" href="https://www.steedos.org/zh-CN/no-code/customize/fields/field-type-summary"><link data-rh="true" rel="alternate" href="https://www.steedos.org/no-code/customize/fields/field-type-summary" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.steedos.org/zh-CN/no-code/customize/fields/field-type-summary" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://www.steedos.org/no-code/customize/fields/field-type-summary" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/zh-CN/blog/rss.xml" title="Steedos RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh-CN/blog/atom.xml" title="Steedos Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XVSWFLK780"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-XVSWFLK780",{anonymize_ip:!0})</script>


<link rel="icon" href="/zh-CN/img/logo.png">
<link rel="manifest" href="/zh-CN/manifest.json">
<meta name="theme-color" content="rgb(37, 194, 160)"><link rel="stylesheet" href="/zh-CN/assets/css/styles.78bee78b.css">
<script src="/zh-CN/assets/js/runtime~main.960c6881.js" defer="defer"></script>
<script src="/zh-CN/assets/js/main.e74acced.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh-CN/"><div class="navbar__logo"><img src="/zh-CN/img/logo.png" alt="Steedos" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/zh-CN/img/logo.png" alt="Steedos" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">华炎魔方</b></a><a class="navbar__item navbar__link" href="/zh-CN/platform/overview">平台</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh-CN/getting-started/">文档</a><a class="navbar__item navbar__link" href="/zh-CN/developer">开发人员</a><a class="navbar__item navbar__link" href="/zh-CN/solutions/overview">解决方案</a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><a href="https://docs.steedos.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">English</a><a href="https://docs.steedos.cn" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">中文</a><a href="https://github.com/steedos/steedos-platform" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-social-link navbar-github-logo" aria-label="GitHub repository"></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/zh-CN/getting-started/">Steedos 文档</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/getting-started/">什么是 Steedos？</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zh-CN/getting-started/tutorials/">教程</a><button aria-label="展开侧边栏分类 &#x27;教程&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zh-CN/getting-started/user/">用户向导</a><button aria-label="展开侧边栏分类 &#x27;用户向导&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/zh-CN/deploy">私有部署</a><button aria-label="折叠侧边栏分类 &#x27;私有部署&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/deploy/deploy-docker">Docker 部署</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/deploy/deploy-k8s">Kubernetes 部署</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/deploy/gitpod">远程环境试用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/zh-CN/deploy/intranet">纯内网部署</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/deploy/steedos-config">实例配置</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/zh-CN/no-code/application/">构建应用程序</a><button aria-label="折叠侧边栏分类 &#x27;构建应用程序&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/no-code/application/overview">应用概览</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/no-code/application/app">创建第一个应用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/no-code/application/pages">微页面设计器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/no-code/application/tab">选项卡</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/zh-CN/no-code/customize/">数据模型和管理</a><button aria-label="折叠侧边栏分类 &#x27;数据模型和管理&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/no-code/customize/object">自定义对象</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/zh-CN/no-code/customize/fields/">字段类型</a><button aria-label="折叠侧边栏分类 &#x27;字段类型&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/no-code/customize/fields/field-attributes">字段属性</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/no-code/customize/fields/field-types">基本字段类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/no-code/customize/fields/field-type-autonumber">自动编号字段</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh-CN/no-code/customize/fields/field-type-summary">累计汇总字段</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/no-code/customize/fields/relationship">对象关系字段</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zh-CN/no-code/customize/formula/">使用公式计算字段值</a><button aria-label="展开侧边栏分类 &#x27;使用公式计算字段值&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/no-code/customize/object-relationship">对象关系</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/no-code/customize/button">自定义按钮</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/no-code/customize/external-datasources">外部数据源</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/no-code/customize/listview">列表视图</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/no-code/customize/object-functions">对象函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/no-code/customize/object-triggers">对象触发器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/no-code/customize/page-layout">页面布局</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/no-code/customize/validation-rules">验证规则</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/zh-CN/automation">自动化工作流程</a><button aria-label="折叠侧边栏分类 &#x27;自动化工作流程&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/automation/automated-actions">自动化操作</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/automation/workflow-rules">工作流规则</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/automation/approval-process">批准过程</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zh-CN/automation/approval-king/">审批王</a><button aria-label="展开侧边栏分类 &#x27;审批王&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/zh-CN/admin/organization/">设置您的组织</a><button aria-label="折叠侧边栏分类 &#x27;设置您的组织&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/admin/organization/company-info">公司信息</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/admin/organization/users">管理用户</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/admin/organization/organizations">管理部门</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/admin/organization/installed-packages">管理软件包</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/admin/organization/import">数据导入</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/admin/organization/audit-logs">审计日志</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/admin/organization/white-label">自定义品牌</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/zh-CN/admin/permissions/">管理数据访问权限</a><button aria-label="折叠侧边栏分类 &#x27;管理数据访问权限&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/admin/permissions/overview">权限管理概览</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/admin/permissions/profile">简档</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/admin/permissions/permission-set">权限集</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/admin/permissions/object-permissions">对象权限</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/admin/permissions/field-permissions">字段权限</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/admin/permissions/app-permissions">应用权限</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/admin/permissions/division">分部级权限</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/admin/permissions/sharing-rules">共享规则</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/admin/permissions/restriction-rules">限制规则</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/admin/permissions/before-find">触发器管理权限</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/zh-CN/plugins">插件</a><button aria-label="折叠侧边栏分类 &#x27;插件&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/plugins/integration-ding">钉钉插件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/plugins/integration-qywx">企业微信插件</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/zh-CN/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/zh-CN/no-code/customize/"><span itemprop="name">数据模型和管理</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/zh-CN/no-code/customize/fields/"><span itemprop="name">字段类型</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">累计汇总字段</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>累计汇总字段</h1>
<p>累计汇总字段会自动计算相关记录中的值。您可以创建累计汇总字段，使其值基于主表/子表关系中某个子表的字段值汇总，并在主记录中显示该汇总结果。子表记录必须通过主表/子表直接与主记录相关。例如，您要在客户的发票相关列表中显示所有相关发票自定义对象记录的发票总金额。您可在名为“发票总金额”的自定义金额字段中定义这一汇总信息。</p>
<p>可以使用累计汇总字段执行不同类型的汇总计算。比如可以计算与主记录相关的子记录的数量，也可以计算子记录中字段的总和、最小值或最大值。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="创建累计汇总字段">创建累计汇总字段<a href="#创建累计汇总字段" class="hash-link" aria-label="创建累计汇总字段的直接链接" title="创建累计汇总字段的直接链接">​</a></h2>
<p>在对象（位于主表/子表的主侧）上定义累计汇总字段。</p>
<p>如果关系已经不存在，请首先在子表侧创建一个主对象与子对象之间的主表/子表关系，用于表示正在汇总的记录的值与被汇总的记录之间的关系。</p>
<p>在您希望显示累计汇总字段值的对象上新建字段。 汇总字段汇总了相关对象上的记录中的值，因此该对象（您在上面创建了该字段）应位于主表/子表关系的主侧。</p>
<ul>
<li><strong>所属对象</strong>：即主表/子表关系中的主对象。</li>
<li><strong>显示名称</strong>：希望该汇总字段显示的名称。</li>
<li><strong>字段名</strong>：该字段的唯一性api名称。</li>
<li><strong>字段类型</strong>：请选择“累计汇总”。</li>
<li><strong>默认值</strong>：因为字段值是计算得出的，所以默认值在此处无效。</li>
<li><strong>字段分组</strong>：希望该字段显示在哪个分组上。</li>
<li><strong>精度</strong>：数值字段的精度。</li>
<li><strong>小数位数</strong>：希望该汇总结果保留的小数位数。</li>
<li><strong>要汇总的对象</strong>：选择主表/子表关系中子表上的对象，该对象包含您要汇总的记录。</li>
<li><strong>汇总类型：</strong>
<ul>
<li><strong>COUNT</strong>：汇总子表一共有多少条记录，返回记录总条数。</li>
<li><strong>SUM</strong>：对在“要聚合的字段”选项中选择的字段的值进行累加汇总。仅数字、金额和百分比字段类型可用。</li>
<li><strong>AVG</strong>：对在“要聚合的字段”选项中选择的字段的值进行总和平均值计算。仅数字、金额和百分比字段类型可用。</li>
<li><strong>MIN</strong>：对在“要聚合的字段”选项中选择的字段的值进行大小比较并取出最小值。仅数字、金额、百分比、日期和日期时间字段可用。</li>
<li><strong>MAX</strong>：对在“要聚合的字段”选项中选择的字段的值进行大小比较并取出最大值。仅数字、金额、百分比、日期和日期时间字段可用。</li>
</ul>
</li>
<li><strong>要聚合的字段</strong>：请选择子表上的某个字段，这个字段就是要进行SUM/AVG/MIN/MAX进行聚合计算的字段。对于除COUNT外的其他汇总类型，此项必填，反之不需要填写该字段。</li>
<li><strong>过滤条件</strong>：如果要在汇总计算时，只包含特定的记录组，请在过滤条件中输入筛选条件，比如只汇总2021年1月1号早上8点前创建的记录。</li>
<li><strong>其他</strong>：勾选上需启用的功能开关等，单击保存结束操作。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="汇总时过滤条件">汇总时过滤条件<a href="#汇总时过滤条件" class="hash-link" aria-label="汇总时过滤条件的直接链接" title="汇总时过滤条件的直接链接">​</a></h3>
<p>如果要在汇总计算时，只包含特定的记录组，可以在过滤条件中输入对应的筛选条件。</p>
<ul>
<li>这些过滤条件过滤的是子表记录而不是主表记录。</li>
<li>字段输入框中列出的是子表对象中可用于过滤的字段名称供选择。</li>
<li>运算符输入框中列出的是基于左侧选中字段的字段类型所支持的过滤条件运算符，比如字符类型的字段有“包含”运算符，而金额类型没有。</li>
<li>值是一个纯文本输入框，当左侧字段类型不同时，请按不同的输入规范输入文本字符：<!-- -->
<ul>
<li><strong>数值、金额、百分比</strong>：请输入合法的数值，比如1.2,3000。</li>
<li><strong>布尔</strong>：请输入<code>&quot;true&quot;, &quot;True&quot;, &quot;TRUE&quot;, &quot;1&quot;</code>表示真，或输入<code>&quot;false&quot;, &quot;False&quot;, &quot;FALSE&quot;, &quot;0&quot;</code>表示假。</li>
<li><strong>日期</strong>：请输入类似<code>2020-02-12</code>格式的值，它表示的值是<code>2020-02-12T00:00:00.000Z</code>，即这里转换为按utc的0点时间值来过滤。</li>
<li><strong>日期时间</strong>：请输入类  似<code>2020-02-12 12:00</code>格式的值，它表示的值是<code>2020-02-12T04:00:00.000Z</code>，即这里会按当前时区转换为utc时区下的时间值来过滤。</li>
<li><strong>相关表</strong>：请输入记录的_id值，比如<code>rbNxQ3mK6CFs8LWbr</code>要表示要引用记录的ID值。</li>
<li><strong>主表/子表</strong>：同相关表。</li>
<li><strong>其他</strong>：按文本值过滤。</li>
</ul>
</li>
<li>可以输入多个过滤条件，最终会按AND逻辑连接输出这些条件，不支持按OR或更复杂的逻辑过滤。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="批量重算汇总值">批量重算汇总值<a href="#批量重算汇总值" class="hash-link" aria-label="批量重算汇总值的直接链接" title="批量重算汇总值的直接链接">​</a></h3>
<p>对于已经存在的历史记录数据，很多情况下累计汇总字段值不会重新计算，此时您应该选择累计汇总字段后台详细配置页面上的“批量重算汇总值”按钮来手动重新计算该值。这些情况包括但是不限于以下情况：</p>
<ul>
<li>更改累计汇总定义（如对象、要聚合的字段、汇总类型、过滤条件等）。</li>
<li>更改在累计汇总字段“要聚合的字段”中引用字段的相关属性，比如更改其字段类型，更改其公式字段的表达式等。</li>
</ul>
<blockquote>
<p>在正式环境中请谨慎修改对象的某些字段属性，比如字段类型，字段公式表达式，下拉选择框可选项列表等，因为对于已经存在的历史记录数据可能不会重新触发字段值重算，对于累计汇总字段值，只能通过手动操作这里的“批量重算汇总值”按钮来修正历史数据。</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="实施提示">实施提示<a href="#实施提示" class="hash-link" aria-label="实施提示的直接链接" title="实施提示的直接链接">​</a></h3>
<ul>
<li>可在所有具有主表/子表关 系的主侧对象上创建累计汇总字段，无论两侧对象是标准对象还是自定义对象。</li>
<li>当某个对象上无法创建累计汇总字段时，请先在该对象的子表上创建主表/子表关系。</li>
<li>累计汇总字段中能够计算的字段类型取决于汇总类型及其要聚合的字段的字段类型。例如：<!-- -->
<ul>
<li>当选择 SUM 或 AVG 作为累计类型时，数字、金额和百分比字段均可用。</li>
<li>当选择 MIN 或 MAX 作为累计类型时，数字、金额、百分比、日期和日期时间字段均可用。</li>
<li>当选择COUNT作为累计类型时，将直接汇总子表记录条数总合而与子表的字段无关，不需要选择“要聚合的字段”。</li>
</ul>
</li>
<li>有时，您无法更改您在累计汇总字段中引用字段的字段类型，这是因为累计汇总字段中能够计算的字段类型依赖于要聚合的字段的字段类型，Steedos暂时未处理此类逻辑校验，请谨慎随意变更正式环境中的字段类型。</li>
<li>在对象上创建了累计汇总字段后，不能将该汇总字段依赖的子表对象中的主表/子表类型字段的字段类型变更为相关表或其他字段类型，Steedos暂时未处理此类逻辑校验，请谨慎随意变更正式环境中的字段类型。</li>
<li>累计汇总字段可以引用公式字段，即“要聚合的字段”可以选择公式字段类型的字段，当公式值变更后会触发累计汇总字段重新汇总计算并更新字段值。</li>
<li>公式字段中也可以引用累计汇总字段，当累计汇总字段值变更时会重新触发相关公式字段重算其字段值。</li>
<li>就目前来说，累计汇总字段中引用了包含派生即时值的跨对象字段引用或函数（如 NOW 或 TODAY的）公式字段时，Steedos按普通公式的方式处理，不加以区别对待，但是您不应该这么配置，这不只是实际需求中不应该有这种逻辑，更是因为这种配置会带来性能方面的极大损耗。</li>
<li>就目前来说，累计汇总字段值变更时，不会重新触发引用了该汇总字段的工作流规则、验证规则或其他自动规则中的公式计算。</li>
<li>在正式环境中请谨慎修改对象的某些字段属性，比如字段类型，字段公式表达式，因为对于已经存在的历史记录数据可能不会重新触发字段值重算，详情请参考批量重算汇总值部分。</li>
<li>计算累计汇总字段值可能需要 30 分钟或以下，取决于受影响的记录的数量和其他因素。</li>
<li>如果验证规则中引用了累计汇总字段，当汇总字段值在变更时也不会触发执行验证规则，比如主记录有一个验证规则，要求累计汇总字段值必须小于100。如果用户对相关子记录的更改将输入超过 100 的值，希望用户无法保存该子表记录，实际上子记录变更时主记录的验证规则是不会被触发的，要实现这个需求，通常的做法是把验证规则配置在子表而不是主表中，类似：<code>lookup_mater_object_field.summary_value + current_value &gt;= 100。</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="最佳实践">最佳实践<a href="#最佳实践" class="hash-link" aria-label="最佳实践的直接链接" title="最佳实践的直接链接">​</a></h3>
<ul>
<li>如果不想让用户看见累计汇总字段计算值，可以将字段设置为隐藏字段。详细记录上用户不能看见的字段仍然会在累计汇总字段中被计算。</li>
<li>如果具有验证规则，请考虑它们将如何影响累计汇总字段。子表记录中的值发生变更时，主表记录的累计汇总字段的值也会发生变更。所以保存主表/子表记录时会显示一个验证错误，请参考上述实施提示最后一条。</li>
<li>请注意从子表字段引用主表累计汇总字段与从主表字段引用自身的累计汇总字段是有区别的。从子记录引用的累计汇总字段可能拥有过  时值，因为子记录保存时父记录尚未更新。但是，从父级记录中引用累计汇总字段的话，虽然累计汇总字段将始终拥有最新的更新值，但是子记录变更时主记录的验证规则是不会被触发的，请参考上述实施提示最后一条。</li>
<li>创建累计汇总字段之前，请规划其实施。一旦创建，就不能更改所选详细对象，也不能删除累计汇总定义中引用的任何字段。</li>
<li>创建累计汇总字段之前，请规划其实施。特别是在生产环境中，一旦产生有价值的历史数据，再修改对象的某些字段属性，比如字段类型，字段公式表达式的话，就需要手动执行“批量重算汇总值”来修正历史数据，这将增加不确认性风险。</li>
<li>累计汇总字段中不允许自动派生字段，如当前日期或当前用户。禁止字段包含可动态派生值的函数（如 DATEVALUE、NOW 和 TODAY）的公式字段。累计汇总字段中也不允许包含相关对象合并字段的公式字段。</li>
<li>应该适当配置“字段索引”以提升数据查询速度，这样可以明显提高累计汇总功能的整体性能。</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/steedos/steedos-docs/tree/master/i18n/zh-CN/docusaurus-plugin-content-docs/current/no-code/customize/fields/field-type-summary.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh-CN/no-code/customize/fields/field-type-autonumber"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">自动编号字段</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh-CN/no-code/customize/fields/relationship"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">对象关系字段</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#创建累计汇总字段" class="table-of-contents__link toc-highlight">创建累计汇总字段</a><ul><li><a href="#汇总时过滤条件" class="table-of-contents__link toc-highlight">汇总时过滤条件</a></li><li><a href="#批量重算汇总值" class="table-of-contents__link toc-highlight">批量重算汇总值</a></li><li><a href="#实施提示" class="table-of-contents__link toc-highlight">实施提示</a></li><li><a href="#最佳实践" class="table-of-contents__link toc-highlight">最佳实践</a></li></ul></li></ul></div></div></div></div></main></div></div></div><div class="absolute z-40 lg:z-50 top-0 inset-x-0 flex justify-center overflow-hidden pointer-events-none"><div class="w-[108rem] flex-none flex justify-end"><picture><source srcset="/img/beams/docs@30.avif" type="image/avif"><img src="/img/beams/docs@tinypng.png" alt="" class="w-[71.75rem] flex-none max-w-none dark:hidden"></picture><picture><source srcset="/img/beams/docs-dark@30.avif" type="image/avif"><img src="/img/beams/docs-dark@tinypng.png" alt="" class="w-[90rem] flex-none max-w-none hidden dark:block"></picture></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">平台</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh-CN/platform/overview">什么是 Steedos?</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/platform/lowcode">什么是低代码?</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/platform/features">功能</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/platform/pricing">报价</a></li></ul></div><div class="col footer__col"><div class="footer__title">解决方案</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh-CN/solutions/project">项目管理</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/solutions/contract">合同管理</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/solutions/expense">费控管理</a></li><li class="footer__item"><a href="https://bots6.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">华炎AI<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">客户案例</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh-CN/customer-success-stories/tsinghua">清华大学</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/customer-success-stories/cmbchina-poc">招商银行</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/customer-success-stories/jianhuabm">建华建材</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/customer-success-stories/yz">双汇集团</a></li></ul></div><div class="col footer__col"><div class="footer__title">资料</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh-CN/getting-started">文档</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/videos">视频</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/deploy">安装部署</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/developer">开发人员</a></li></ul></div><div class="col footer__col"><div class="footer__title">联系我们</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh-CN/company/about-us">关于我们</a></li><li class="footer__item"><a href="tel:400-820-1612" target="_blank" rel="noopener noreferrer" class="footer__link-item">400-820-1612 (中国)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Steedos Inc. <br> (沪ICP备09089283号)</div></div></div></footer><div class="footer pb-6 pt-0"><img class="mx-auto" src="https://www.steedos.com/img/QR_contact1.png" alt="微信扫码" width="587" height="216"></div></div>
</body>
</html>