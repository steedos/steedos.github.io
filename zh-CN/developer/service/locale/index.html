<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-developer/service/locale" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">国际化 | Steedos</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.steedos.org/zh-CN/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://www.steedos.org/zh-CN/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://www.steedos.org/zh-CN/developer/service/locale"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="国际化 | Steedos"><meta data-rh="true" name="description" content="Steedos是支持多语言的低代码平台，我们可以在软件包中通过编写国际化资源文件来覆盖系统默认的相关翻译内容从而实现国际化。"><meta data-rh="true" property="og:description" content="Steedos是支持多语言的低代码平台，我们可以在软件包中通过编写国际化资源文件来覆盖系统默认的相关翻译内容从而实现国际化。"><link data-rh="true" rel="icon" href="/zh-CN/img/favicon.png"><link data-rh="true" rel="canonical" href="https://www.steedos.org/zh-CN/developer/service/locale"><link data-rh="true" rel="alternate" href="https://www.steedos.org/developer/service/locale" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.steedos.org/zh-CN/developer/service/locale" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://www.steedos.org/developer/service/locale" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/zh-CN/blog/rss.xml" title="Steedos RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh-CN/blog/atom.xml" title="Steedos Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XVSWFLK780"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-XVSWFLK780",{anonymize_ip:!0})</script>


<link rel="icon" href="/zh-CN/img/logo.png">
<link rel="manifest" href="/zh-CN/manifest.json">
<meta name="theme-color" content="rgb(37, 194, 160)">


<script src="/js/salesiq.js"></script><link rel="stylesheet" href="/zh-CN/assets/css/styles.61606dd2.css">
<link rel="preload" href="/zh-CN/assets/js/runtime~main.61d37101.js" as="script">
<link rel="preload" href="/zh-CN/assets/js/main.46b20a29.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><div class="announcementBar_mb4j" style="background-color:#4D72DA;color:#ffffff" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">⭐️ If you like Steedos, give a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/steedos/steedos-platform">GitHub</a>.</div><button type="button" aria-label="关闭" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh-CN/"><div class="navbar__logo"><img src="/zh-CN/img/logo.png" alt="Steedos" class="themedImage_ToTc themedImage--light_HNdA"><img src="/zh-CN/img/logo.png" alt="Steedos" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/zh-CN/getting-started/">平台</a><a class="navbar__item navbar__link" href="/zh-CN/apps/getting-started/overview">应用</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh-CN/developer">开发人员</a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>中文（中国）</a><ul class="dropdown__menu"><li><a href="/developer/service/locale" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/zh-CN/developer/service/locale" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-CN">中文（中国）</a></li></ul></div><a href="https://github.com/steedos/steedos-platform" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-social-link navbar-github-logo" aria-label="GitHub repository"></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/zh-CN/developer">快速向导</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer">什么是 Steedos DX?</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/zh-CN/developer/setup/">设置项目</a><button aria-label="打开/收起侧边栏菜单「设置项目」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/setup/overview">概览</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/setup/sample-repository">GitHub 上的示例项目</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/setup/create-steedos-app">创建一个新项目</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/setup/steedos-cli">安装 Steedos Cli</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/setup/project-start">运行项目</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/zh-CN/developer/package/">软件包</a><button aria-label="打开/收起侧边栏菜单「软件包」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/package/overview">概览</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh-CN/developer/package/metadata/">元数据</a><button aria-label="打开/收起侧边栏菜单「元数据」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/package/sync-metadata">同步元数据</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/package/package-install">软件包安装</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/package/package-publish">软件包发布</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/zh-CN/developer/service/">微服务软件包</a><button aria-label="打开/收起侧边栏菜单「微服务软件包」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/service/overview">概览</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/service/package-service">软件包微服务</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/service/action-api">REST API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/service/action-trigger">触发器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/service/objectql">ObjectQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh-CN/developer/service/locale">国际化</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh-CN/developer/service/moleculer/">Moleculer 微服务框架</a><button aria-label="打开/收起侧边栏菜单「Moleculer 微服务框架」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh-CN/developer/service/service-api/">平台微服务</a><button aria-label="打开/收起侧边栏菜单「平台微服务」" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/zh-CN/developer/micro-page/">微页面构建器</a><button aria-label="打开/收起侧边栏菜单「微页面构建器」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/micro-page/overview">概览</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/micro-page/getting_start">快速上手</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh-CN/developer/micro-page/amis/">AMIS 前端低代码框架</a><button aria-label="打开/收起侧边栏菜单「AMIS 前端低代码框架」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh-CN/developer/micro-page/components/">平台组件</a><button aria-label="打开/收起侧边栏菜单「平台组件」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/micro-page/custom_components">自定义组件</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/zh-CN/developer/api/">API</a><button aria-label="打开/收起侧边栏菜单「API」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/api/overview">概览</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/api/api-validate">接口验证</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/api/api-process">流程 API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/api/graphql-api">GraphQL API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/api/openapi">OpenAPI</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/zh-CN/developer/plugins/">插件</a><button aria-label="打开/收起侧边栏菜单「插件」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/plugins/overview">概览</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/plugins/objectql">ObjectQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/plugins/trigger">触发器</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/zh-CN/developer/integration/">系统集成</a><button aria-label="打开/收起侧边栏菜单「系统集成」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/integration/api-jwt-sso">单点登录 API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/developer/integration/node-red">Node-Red</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a href="https://github.com/orgs/steedos/projects/9" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true">产品</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://github.com/orgs/steedos/projects/9" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">版本更新说明<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://github.com/steedos/steedos-platform/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">贡献代码<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/zh-CN/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/zh-CN/developer/service/"><span itemprop="name">微服务软件包</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">国际化</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>国际化</h1></header><p>Steedos是支持多语言的低代码平台，我们可以在软件包中通过编写国际化资源文件来覆盖系统默认的相关翻译内容从而实现国际化。</p><p>我们鼓励大家在Steedos <a href="https://github.com/steedos/steedos-platform" target="_blank" rel="noopener noreferrer">GitHub</a> 开源代码中直接修改国际化资源文件并提交PR。</p><p>如果是要在Steedos项目中实现国际化，我们推荐大家把所有国际化的相关内容专门做成一个软件包，这样方便后续按模块进行维护、升级和部署，比如可以创建一个名为 <code>locale</code> 的软件包，以下国际化相关教程都在该软件包中开发。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="资源文件">资源文件<a href="#资源文件" class="hash-link" aria-label="资源文件的直接链接" title="资源文件的直接链接">​</a></h2><p>以下是Steedos源码中国际化资源文件对应的位置，其中文件或文件名中<code>zh-CN</code>表示中文资源文件，<code>en</code>表示英文资源文件。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="对象">对象<a href="#对象" class="hash-link" aria-label="对象的直接链接" title="对象的直接链接">​</a></h3><p>对象、对象字段、列表视图、操作按钮等对象元数据的国际化资源文件在以下源码中：</p><ul><li>Git仓库源码：<a href="https://github.com/steedos/steedos-platform/blob/master/packages/standard-objects/objectTranslations" target="_blank" rel="noopener noreferrer">standard-objects/objectTranslations</a></li><li>本地NPM包源码： <code>node_modules/@steedos/standard-objects/objectTranslations</code></li></ul><p>最新版本的Steedos已经把上述内置 <code>standard-objects</code> 软件包中部分对象拆分到下面的软件包中了。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="standard-cms">standard-cms<a href="#standard-cms" class="hash-link" aria-label="standard-cms的直接链接" title="standard-cms的直接链接">​</a></h4><ul><li>Git仓库源码：<a href="https://github.com/steedos/steedos-platform/blob/master/services/standard-cms/main/default/objectTranslations" target="_blank" rel="noopener noreferrer">standard-cms/objectTranslations</a></li><li>本地NPM包源码： <code>node_modules/@steedos/standard-cms/main/default/objectTranslations</code></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="standard-collaboration">standard-collaboration<a href="#standard-collaboration" class="hash-link" aria-label="standard-collaboration的直接链接" title="standard-collaboration的直接链接">​</a></h4><ul><li>Git仓库源码：<a href="https://github.com/steedos/steedos-platform/blob/master/services/standard-collaboration/main/default/objectTranslations" target="_blank" rel="noopener noreferrer">standard-collaboration/objectTranslations</a></li><li>本地NPM包源码： <code>node_modules/@steedos/standard-collaboration/main/default/objectTranslations</code></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="standard-object-database">standard-object-database<a href="#standard-object-database" class="hash-link" aria-label="standard-object-database的直接链接" title="standard-object-database的直接链接">​</a></h4><ul><li>Git仓库源码：<a href="https://github.com/steedos/steedos-platform/blob/master/services/standard-object-database/main/default/objectTranslations" target="_blank" rel="noopener noreferrer">standard-object-database/objectTranslations</a></li><li>本地NPM包源码： <code>node_modules/@steedos/standard-object-database/main/default/objectTranslations</code></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="standard-permission">standard-permission<a href="#standard-permission" class="hash-link" aria-label="standard-permission的直接链接" title="standard-permission的直接链接">​</a></h4><ul><li>Git仓库源码：<a href="https://github.com/steedos/steedos-platform/blob/master/services/standard-permission/main/default/objectTranslations" target="_blank" rel="noopener noreferrer">standard-permission/objectTranslations</a></li><li>本地NPM包源码： <code>node_modules/@steedos/standard-permission/main/default/objectTranslations</code></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="standard-process-approval">standard-process-approval<a href="#standard-process-approval" class="hash-link" aria-label="standard-process-approval的直接链接" title="standard-process-approval的直接链接">​</a></h4><ul><li>Git仓库源码：<a href="https://github.com/steedos/steedos-platform/blob/master/services/standard-process-approval/main/default/objectTranslations" target="_blank" rel="noopener noreferrer">standard-process-approval/objectTranslations</a></li><li>本地NPM包源码： <code>node_modules/@steedos/standard-process-approval/main/default/objectTranslations</code></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="standard-ui">standard-ui<a href="#standard-ui" class="hash-link" aria-label="standard-ui的直接链接" title="standard-ui的直接链接">​</a></h4><ul><li>Git仓库源码：<a href="https://github.com/steedos/steedos-platform/blob/master/services/standard-ui/main/default/objectTranslations" target="_blank" rel="noopener noreferrer">standard-ui/objectTranslations</a></li><li>本地NPM包源码： <code>node_modules/@steedos/standard-ui/main/default/objectTranslations</code></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="设置应用菜单">设置应用菜单<a href="#设置应用菜单" class="hash-link" aria-label="设置应用菜单的直接链接" title="设置应用菜单的直接链接">​</a></h3><p>后台设置应用是有左侧菜单的，这个菜单项的国际化资源文件在以下源码中：</p><ul><li>Git仓库源码：<a href="https://github.com/steedos/steedos-platform/blob/master/packages/standard-objects/translations" target="_blank" rel="noopener noreferrer">standard-objects/translations</a></li><li>本地NPM包源码： <code>node_modules/@steedos/standard-objects/translations</code></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="其他">其他<a href="#其他" class="hash-link" aria-label="其他的直接链接" title="其他的直接链接">​</a></h3><p>其他国际化变量在以下源码中：</p><ul><li>Git仓库源码：<a href="https://github.com/steedos/steedos-platform/tree/master/packages/i18n/translations" target="_blank" rel="noopener noreferrer">i18n/translations</a></li><li>本地NPM包源码： <code>node_modules/@steedos/i18n/translations</code></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="元数据">元数据<a href="#元数据" class="hash-link" aria-label="元数据的直接链接" title="元数据的直接链接">​</a></h2><p>Steedos是通过对各种类型的元数据添加翻译资源文件来实现国际化的，以下是各种元数据类型实现国际化的细节。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="对象-1">对象<a href="#对象-1" class="hash-link" aria-label="对象的直接链接" title="对象的直接链接">​</a></h3><p>对象和对象字段的元数据中是可以定义相关显示名称的，比如Steedos有一个名为 <code>company</code> 的对象，通过定义其 <code>label</code> 属性可以配置该对象的显示名称，这个对象在中文环境下显示的是“分部”，英文显示的是“Company”，以下操作过程可以把该对象对应的翻译改为“分公司”和”Sub Corporation“，同时把该对象上名为”分部代码“的字段改为”分公司代码“。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="同步为代码">同步为代码<a href="#同步为代码" class="hash-link" aria-label="同步为代码的直接链接" title="同步为代码的直接链接">​</a></h4><p>如果是为可视化界面上新建的对象添加国际化翻译内容，推荐先把该对象的元数据同步为代码以实现源代码版本管理，详情请参阅教程 同步元数据，不过这并不是必须的，因为未同步为代码的对象也支持按以下操作步骤实现对象国际化。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="添加翻译文件">添加翻译文件<a href="#添加翻译文件" class="hash-link" aria-label="添加翻译文件的直接链接" title="添加翻译文件的直接链接">​</a></h4><p>在软件包的default文件夹下新建一个objectTranslations文件夹，其下新建 <code>company.en</code> 和 <code>company.zh-CN</code> 两个同级文件夹对应的中英两种语言的翻译内容，最后各自新建中英文翻译的yml配置文件。 </p><p>其目录结构如下：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">locale</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── main / default</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└───├── objectTranslations</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └───├── company.en</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">|</span><span class="token plain">   └── company.en.objectTranslation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        └── company.zh-CN</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            └── company.zh-CN.objectTranslation.yml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><alert type="info">请注意添加国际化文件时，请按需添加，需要中文就加中文翻译文件，需要英文就加英文翻译文件，不可以加了文件后文件内容却是空的，这样会造成服务端程序抛出异常错误消息。</alert><h4 class="anchor anchorWithStickyNavbar_LWe7" id="修改翻译内容">修改翻译内容<a href="#修改翻译内容" class="hash-link" aria-label="修改翻译内容的直接链接" title="修改翻译内容的直接链接">​</a></h4><p>在刚新建的yml文件中添加翻译内容，以下两个文件内容实现了重写 <code>company</code> 对象及其字段的中文和英文显示名称</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// locale/main/default/objectTranslations/company.zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN/company.zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN.objectTranslation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> company</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 分公司</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">fields</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">code</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;分公司代码&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// locale/main/default/objectTranslations/company.en/company.en.objectTranslation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> company</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Sub Corporation</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">fields</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">code</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Sub Corporation Code&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="base对象翻译">Base对象翻译<a href="#base对象翻译" class="hash-link" aria-label="Base对象翻译的直接链接" title="Base对象翻译的直接链接">​</a></h4><p>Steedos内置了Base对象，该对象用于配置所有对象的通用属性，其中包括所有对象的通用国际化，它表示可以给所有对象上的通用字段，标准操作按钮等设置默认的国际化内容，而不用每个对象上都去设置一次。</p><p>内置的Base对象国际化内容请参考源码：</p><ul><li>Git仓库源码：<a href="https://github.com/steedos/steedos-platform/blob/master/packages/standard-objects/objectTranslations/base.zh-CN/base.zh-CN.objectTranslation.yml" target="_blank" rel="noopener noreferrer">base.zh-CN.objectTranslation.yml</a></li><li>本地NPM包源码： <code>node_modules/@steedos/standard-objects/objectTranslations/base.zh-CN/base.zh-CN.objectTranslation.yml</code></li></ul><p>与给某个具体对象实现国际化操作方式一样，需要先为Base对象添加国际化翻译文件。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">locale</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── main / default</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└───├── objectTranslations</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └───├── base.en</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">|</span><span class="token plain">   └── base.en.objectTranslation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        └── base.zh-CN</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            └── base.zh-CN.objectTranslation.yml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>然后再设置对应的翻译内容来实现对Base对象的国际化，我们只要把上面提到的Base对象国际化源码中的同名国际化变量添加进去，并定义其翻译内容即可修改默认的国际化内容。</p><p>以下翻译内容把中文环境下”分部“字段的显示名称改为了”单位“，并且修改了”新建“和”编辑“这两个标准操作按钮的显示名称，加上它们后，所有对象默认的相关国际化配置都会发生对应的变化，重启服务后就能看到效果。</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// locale/main/default/objectTranslations/base.zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN/base.zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN.objectTranslation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> base</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> base</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">fields</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">company_id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;单位&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">company_ids</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;所属单位&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">actions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">standard_new</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 创建</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">standard_edit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 修改</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="内置对象翻译">内置对象翻译<a href="#内置对象翻译" class="hash-link" aria-label="内置对象翻译的直接链接" title="内置对象翻译的直接链接">​</a></h4><p>部分内置对象国际化翻译文件源码：</p><ul><li>Git仓库源码：<a href="https://github.com/steedos/steedos-platform/blob/master/packages/standard-objects/objectTranslations" target="_blank" rel="noopener noreferrer">standard-objects/objectTranslations</a></li><li>本地NPM包源码： <code>node_modules/@steedos/standard-objects/objectTranslations</code></li></ul><p>要修改这些内置对象的国际化内容，按上面提到的操作步骤，先添加翻译文件，再修改翻译内容，只要为对象上同名国际化变量配置不同的翻译内容值，重启服务后即可看到修改后的效果。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="字段">字段<a href="#字段" class="hash-link" aria-label="字段的直接链接" title="字段的直接链接">​</a></h3><p>字段作为对象的一部分，其国际化翻译与对象是在一起的，请参考上述“对象国际化”的步骤来实现字段国际化，先添加翻译文件再修改翻译内容。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="字段分组">字段分组<a href="#字段分组" class="hash-link" aria-label="字段分组的直接链接" title="字段分组的直接链接">​</a></h4><p>不过字段上可以配置“分组”，我们如果需要对分组进行国际化翻译，也是修改对象翻译文件，以下翻译内容描述了如何修改Steedos内置对象“公司”下名为“华炎云”的字段分组的中文显示名称。</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// locale/main/default/objectTranslations/spaces.zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN/spaces.zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN.objectTranslation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> spaces</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 总公司</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">fields</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">api_key</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;密钥&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">groups</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">Developer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Steedos</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>该翻译内容把“公司”对象的中文显示名称改为了“总公司”，把字段<code>api_key</code>的中文显示名称改为了“密钥”，并且该字段所属的分组显示名称从“华炎云”改为了“Steedos”。</p><p>可视化界面上新建的字段国际化方式与上面讲的内置对象是一样的，只要在对象翻译文件上加上相关字段或字段分组并设置其翻译文本即可。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="下拉选项">下拉选项<a href="#下拉选项" class="hash-link" aria-label="下拉选项的直接链接" title="下拉选项的直接链接">​</a></h4><p>选择框类型的下拉选项也是可以定制国际化翻译内容的，以下国际化翻译内容实现了给名为“项目任务”的对象下的“优先级”字段配置中文环境下的下拉选项显示名称。</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// locale/main/default/objectTranslations/project_tasks__c.zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN/project_tasks__c.zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN.objectTranslation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> project_tasks__c</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 项目任务</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">fields</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">priority__c</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 优先级</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 高</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token key atrule">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> high</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 中</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token key atrule">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> normal</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 低</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token key atrule">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> low</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="其他-1">其他<a href="#其他-1" class="hash-link" aria-label="其他的直接链接" title="其他的直接链接">​</a></h4><p>字段上的其他属性比如“提示文本”和“描述”也是可以配置国际化内容的，以下示例描述了如何在国际化文件中配置它们。</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// locale/main/default/objectTranslations/project_tasks__c.zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN/project_tasks__c.zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN.objectTranslation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> project_tasks__c</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 项目任务</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">fields</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">priority__c</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 优先级</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">help</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 本周任务请选择“高”，下周任务请选择“中”，否则请选择“低”</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">description</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 描述项目任务的紧急程度。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="列表视图">列表视图<a href="#列表视图" class="hash-link" aria-label="列表视图的直接链接" title="列表视图的直接链接">​</a></h3><p>与字段一样，列表视图也是对象的组成部分之一，其国际化翻译与对象是在一起的，请参考上述“对象国际化”的步骤来实现列表视图国际化，先添加翻译文件再修改翻译内容。</p><p>以下翻译内容描述了如何定制可视化界面上新建的名为“项目任务”的自定义对象的“所有”视图的中文和英文名称。</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// locale/main/default/objectTranslations/project_tasks__c.zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN/project_tasks__c.zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN.objectTranslation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> project_tasks__c</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 项目任务</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">listviews</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">all</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 所有任务</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// locale/main/default/objectTranslations/project_tasks__c.en/project_tasks__c.en.objectTranslation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> project_tasks__c</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Project Tasks</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">listviews</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">all</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> All Tasks</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><alert type="info">请注意国际化列表视图时在翻译文件中使用的是`listviews`这个单词作为key，它与对象定义时使用的`list_views`相比要少写一个下划线。</alert><h3 class="anchor anchorWithStickyNavbar_LWe7" id="操作按钮">操作按钮<a href="#操作按钮" class="hash-link" aria-label="操作按钮的直接链接" title="操作按钮的直接链接">​</a></h3><p>与字段和列表视图一样，操作按钮也是对象的组成部分之一，其国际化翻译与对象是在一起的，请参考上述“对象国际化”的步骤来实现列表视图国际化，先添加翻译文件再修改翻译内容。</p><p>以下翻译内容描述了如何定制可视化界面上新建的名为“项目任务”的自定义对象的“打印”按钮的中文和英文名称。</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// locale/main/default/objectTranslations/project_tasks__c.zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN/project_tasks__c.zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN.objectTranslation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> project_tasks__c</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 项目任务</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">actions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 打印当天任务</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// locale/main/default/objectTranslations/project_tasks__c.en/project_tasks__c.en.objectTranslation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> project_tasks__c</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Project Tasks</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">actions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Print Tasks for today</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Steedos内置了很多标准操作按钮，比如新建、编辑、删除等，这些标准按钮的国际化方法与自定义按钮是一样的，比如以下翻译内容可以修改上面的“项目任务”对象的“新建”按钮的中文名为“创建项目任务”。</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// locale/main/default/objectTranslations/project_tasks__c.zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN/project_tasks__c.zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN.objectTranslation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> project_tasks__c</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 项目任务</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">actions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">standard_new</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 创建项目任务</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果想修改所有对象的某个标准操作按钮的显示名称，请参阅上述<a href="#base%E5%AF%B9%E8%B1%A1%E7%BF%BB%E8%AF%91">Base对象翻译</a> 小节。
内置标准操作按钮清单请参考源码：</p><ul><li>Git仓库源码：<a href="https://github.com/steedos/steedos-platform/blob/master/packages/standard-objects/objectTranslations/base.zh-CN/base.zh-CN.objectTranslation.yml#L137" target="_blank" rel="noopener noreferrer">base.zh-CN.objectTranslation.yml#L137</a></li><li>本地NPM包源码： <code>node_modules/@steedos/standard-objects/objectTranslations/base.zh-CN/base.zh-CN.objectTranslation.yml</code></li></ul><alert type="info">请注意国际化操作按钮时在翻译文件中使用的是`actions`这个单词作为key，而对象中定义按钮元数据时使用的是`buttons`。</alert><h3 class="anchor anchorWithStickyNavbar_LWe7" id="自定义变量">自定义变量<a href="#自定义变量" class="hash-link" aria-label="自定义变量的直接链接" title="自定义变量的直接链接">​</a></h3><p>自定义国际化变量指的是定义一个全局的国际化Key，并为该Key编写不同语言的国际化翻译内容。</p><p>上面讲到的对象层面的元数据，包括对象、字段、列表视图、操作按钮等，它们的翻译资源文件都是放在<code>objectTranslations</code>文件夹内，而其他元数据的翻译资源文件都是放到名为<code>translations</code>的文件夹内，用于存放自定义的国际化变量，比如我们后续会讲到的应用、设置菜单、系统消息还有审批王等，都是通过自定义变量来实现国际化的。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="添加自定义变量">添加自定义变量<a href="#添加自定义变量" class="hash-link" aria-label="添加自定义变量的直接链接" title="添加自定义变量的直接链接">​</a></h4><p>要添加自定义翻译变量，需要先在软件包中添加全局自定义翻译文件。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">locale</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── main / default</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└───├── translations</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├── └── en.translation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └── └── zh-CN.translation.yml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>以下翻译内容为中文和英文资源分别添加了名为<code>base_error_start_end_date</code>的自定义翻译变量。</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// locale/main/default/translations/zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN.translation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">CustomLabels</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">base_error_start_end_date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;结束时间不能早于开始时间&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// locale/main/default/translations/en.translation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">CustomLabels</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">base_error_start_end_date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;The end time cannot be earlier than the start time&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>添加自定义国际化变量前，应该先确认下变量名称是否已经被 <a href="#%E5%86%85%E7%BD%AE%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F">内置自定义变量</a> 或其他软件包占用，一般来说我们启动项目后在浏览器控制台中调用<code>t</code>函数即可判断当前key是否已经被占用，只要返回的内容不是key本身就说明该变量已经被占用。</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">t</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;base_error_start_end_date&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">//返回“开始时间必须小于结束时间”</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>比如，在浏览器控制台输入以上代码并运行会发现输出的内容为“开始时间必须小于结束时间”，这说明该变量已经被占用了，所以上面不应该使用变量<code>base_error_start_end_date</code>,因为它已经被占用了。</p><p>我们尝试把该变量前面的<code>base</code>去掉，可以看到它并没有被占用。</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">t</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;error_start_end_date&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">//返回error_start_end_date</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><alert type="info">如果强行在软件包中添加已经被占用的自定义国际化变量的话，原来引用该变量的地方国际化内容就会被同时修改掉。</alert><h4 class="anchor anchorWithStickyNavbar_LWe7" id="使用自定义变量">使用自定义变量<a href="#使用自定义变量" class="hash-link" aria-label="使用自定义变量的直接链接" title="使用自定义变量的直接链接">​</a></h4><p>在添加好自定义翻译变量后，我们就可以在程序源码中使用它们了。</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="触发器中抛错信息">触发器中抛错信息<a href="#触发器中抛错信息" class="hash-link" aria-label="触发器中抛错信息的直接链接" title="触发器中抛错信息的直接链接">​</a></h6><p>以下示例演示了如何在 触发器 中抛出错误消息时使用上面新添加的自定义翻译变量。</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// locale/main/default/triggers/project_tasks__c.trigger.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">validateStartEndDate</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">start</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> end</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">start </span><span class="token operator">&amp;&amp;</span><span class="token plain"> end</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> startTime </span><span class="token operator">=</span><span class="token plain"> start</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">getTime</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> start</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">start</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> endTime </span><span class="token operator">=</span><span class="token plain"> end</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">getTime</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> end</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">end</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">endTime </span><span class="token operator">-</span><span class="token plain"> startTime </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token number">1000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;base_error_start_end_date&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">listenTo</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;project_tasks__c&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">beforeInsert</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> doc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> object_name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">validateStartEndDate</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">doc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;start&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> doc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;end&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">beforeUpdate</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> doc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> object_name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">validateStartEndDate</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">doc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;start&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> doc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;end&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>从上述示例代码中可以看到，在触发器中只要在抛出错误信息时直接引用自定义翻译变量的key，就可以自动实现错误消息国际化了，系统会根据当前登录用户所设定的语言返回正确的国际化内容。</p><alert type="info">因为触发器返回的错误消息会在前端组件中执行国际化转换再显示给最终用户看，所以并不需要在触发器中手动执行服务端国际化函数。</alert><h6 class="anchor anchorWithStickyNavbar_LWe7" id="前端脚本中显示变量内容">前端脚本中显示变量内容<a href="#前端脚本中显示变量内容" class="hash-link" aria-label="前端脚本中显示变量内容的直接链接" title="前端脚本中显示变量内容的直接链接">​</a></h6><p>我们在前端脚本中只要调用 <code>t</code> 函数即可得到当前登录用户所设定的语言对应的国际化内容，比如以下脚本会弹出错误消息，显示为前面我们定义的国际化内容。</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">toastr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 250, 123)">t</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;base_error_start_end_date&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h6 class="anchor anchorWithStickyNavbar_LWe7" id="自定义api接口中消息">自定义API接口中消息<a href="#自定义api接口中消息" class="hash-link" aria-label="自定义API接口中消息的直接链接" title="自定义API接口中消息的直接链接">​</a></h6><p>以下示例演示了如何在 自定义API接口 中返回业务消息时使用上面新添加的自定义翻译变量。</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// locale/main/default/routes/lbs_distance.router.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> express </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;express&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> router </span><span class="token operator">=</span><span class="token plain"> express</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(80, 250, 123)">Router</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> core </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;@steedos/core&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/api/lbs_distance&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> core</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">requireAuthentication</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> long1 </span><span class="token operator">=</span><span class="token plain"> req</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">long1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> lat1 </span><span class="token operator">=</span><span class="token plain"> req</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">lat1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> long2 </span><span class="token operator">=</span><span class="token plain"> req</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">long2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> lat2 </span><span class="token operator">=</span><span class="token plain"> req</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">lat2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">long1 </span><span class="token operator">||</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">lat1 </span><span class="token operator">||</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">long2 </span><span class="token operator">||</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">lat2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;lbs_distance_error_params_required&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> result</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 执行地图应用算法计算输出两个地点距离</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        res</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">200</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">send</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> result</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token literal-property property">success</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        res</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">200</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">send</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token literal-property property">success</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token literal-property property">error</span><span class="token operator">:</span><span class="token plain"> error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">message</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exports</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">default</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> router</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>我们需要在国际化文件中定义变量 <code>lbs_distance_error_params_required</code>，以下是中文国际化文件中相关内容：</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// locale/main/default/translations/zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN.translation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">CustomLabels</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">lbs_distance_error_params_required</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;缺少经度或纬度参数！&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上述示例中请求<code>/api/lbs_distance</code>接口可以发现返回的错误信息并没有翻译为配置好的中文消息。</p><p>我们需要在获取把接口返回消息时，在前端调用转换函数才能得到转换后的消息内容。</p><p>以下是前端按钮部分示例代码：</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">lbs_distance</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">object_name</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> record_id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> result </span><span class="token operator">=</span><span class="token plain"> </span><span class="token maybe-class-name">Steedos</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">authRequest</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/api/lbs_distance&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token literal-property property">type</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;get&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token literal-property property">async</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">result</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">success</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      toastr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 250, 123)">t</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">result</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">//...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">disableVisible</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">object_name</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> record_id</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> record_permissions</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> record</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="内置自定义变量">内置自定义变量<a href="#内置自定义变量" class="hash-link" aria-label="内置自定义变量的直接链接" title="内置自定义变量的直接链接">​</a></h4><p>内置自定义变量清单请参考源码：</p><ul><li>Git仓库源码：<a href="https://github.com/steedos/steedos-platform/tree/master/packages/i18n/translations" target="_blank" rel="noopener noreferrer">i18n/translations</a></li><li>本地NPM包源码： <code>node_modules/@steedos/i18n/translations</code></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="修改自定义变量">修改自定义变量<a href="#修改自定义变量" class="hash-link" aria-label="修改自定义变量的直接链接" title="修改自定义变量的直接链接">​</a></h4><p>我们只要在软件包中添加内置自定义国际化变量同名变量就可以很方便的实现修改这些内置变量的目的。</p><p>以下示例代码会把点击九宫格弹出的应用程序窗口中的标题从”应用程序启动器“ 改为“所有应用”。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// locale/main/default/translations/zh-CN.translation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">CustomLabels:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  creator_app_launcher: 所有应用</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>以下示例代码会把审批王应用中填写表单时右上角的“帮助”链接地址修改成新的地址。</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// locale/main/default/translations/zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN.translation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">CustomLabels</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># 审批=&gt;填写表单 中右上角的“帮助”链接</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">new_help</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;https://www.xxx.cn/docs&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="应用">应用<a href="#应用" class="hash-link" aria-label="应用的直接链接" title="应用的直接链接">​</a></h3><p>一般来说我会需要对应用的名称和描述进行国际化配置，与上述 <a href="#%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F">自定义国际化变量 - 添加自定义变量</a> 小节类似，要实现应用的国际化，我们需要先在软件包中添加全局自定义翻译文件。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">locale</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── main / default</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└───├── translations</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├── └── en.translation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └── └── zh-CN.translation.yml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>不同的是在定义翻译内容时，并不是把翻译内容定义在 <code>CustomLabels</code> 节点下，而是放在名为 <code>CustomApplications</code> 的节点下。</p><p>以下翻译内容为中文和英文资源分别配置了Api名为<code>oa</code>的“办公”应用的自定义翻译变量，加上它们重启服务后就能看到效果。</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// locale/main/default/translations/zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN.translation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">CustomApplications</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">oa</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 办公自动化</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">description</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 协同办公系统，包含审批、文档、公告、任务、日程等模块。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// locale/main/default/translations/en.translation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">CustomApplications</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">oa</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> OA</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">description</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Collaborative office system</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="设置应用菜单-1">设置应用菜单<a href="#设置应用菜单-1" class="hash-link" aria-label="设置应用菜单的直接链接" title="设置应用菜单的直接链接">​</a></h3><p>后台设置应用是有左侧菜单的，这个菜单项的默认国际化内容请参考源码：</p><ul><li>Git仓库源码：<a href="https://github.com/steedos/steedos-platform/blob/master/packages/standard-objects/translations/zh-CN.translation.yml" target="_blank" rel="noopener noreferrer">standard-objects/translations/zh-CN.translation.yml</a></li><li>本地NPM包源码： <code>node_modules/@steedos/standard-objects/translations/zh-CN.translation.yml</code></li></ul><p>如果需要修改这个菜单的国际化内容，可以参阅上述 <a href="#%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F">自定义国际化变量 - 添加自定义变量</a> 小节添加对应到同名国际化变量，并定义其翻译内容即可。</p><p>以下翻译内容修改了中文环境下&quot;设置&quot;应用的名称和描述，并且把左侧菜单”权限集“改为了”权限组“，加上它们重启服务后就能看到效果。</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// locale/main/default/translations/zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN.translation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">CustomApplications</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">admin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 系统设置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">description</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 系统管理员可以设置公司、人员、权限等基本系统。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">CustomLabels</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">menu_permission_set</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 权限组</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="系统消息">系统消息<a href="#系统消息" class="hash-link" aria-label="系统消息的直接链接" title="系统消息的直接链接">​</a></h3><p>要实现系统消息的国际化，请参阅上述 <a href="#%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F">自定义国际化变量 - 添加自定义变量</a> 小节添加一个用于提示消息的变量，并为其定义各个语言下的翻译内容，然后参阅上述 <a href="#%E4%BD%BF%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F">自定义国际化变量 - 使用自定义变量</a> 小节使用添加好的变量作为提示消息。</p><p>如果要修改Steedos内置的消息内容，请从上述 <a href="#%E5%86%85%E7%BD%AE%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F">自定义国际化变量 - 内置自定义变量</a> 小节中提到的源码中找到对应的内置变量名称，然后在软件包中添加同名国际化变量，并定义其翻译内容即可。</p><p>比如以下翻译内容重新配置了中文环境下部分操作按钮相关的提示消息。</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// locale/main/default/translations/zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN.translation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">CustomLabels</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">space_users_method_disable_success</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 已成功停用该用户。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">space_users_method_disable_error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 停用用户失败，%s</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">space_users_method_enable_success</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 已成功启用该用户。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">space_users_method_enable_error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 启用用户失败，%s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="审批王">审批王<a href="#审批王" class="hash-link" aria-label="审批王的直接链接" title="审批王的直接链接">​</a></h3><p>审批王 是一个Steedos为大家提供的开源工作流引擎，这是一个广泛应用于企业内部员工（决策层/管理层/执行层）及外部用户（客户/供应商/经销商）的审批应用，下面我们来看看怎么为它实现国际化。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="应用-1">应用<a href="#应用-1" class="hash-link" aria-label="应用的直接链接" title="应用的直接链接">​</a></h4><p>上面 <a href="#%E5%BA%94%E7%94%A8">应用国际化</a> 小节描述了如何为一个应用配置国际化翻译，以下翻译内容能把审批王应用的名称从原来的“审批中心”改为“审批王”</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// locale/main/default/translations/zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN.translation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">CustomApplications</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">approve_workflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 审批王</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">description</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 提供图形化的表单与流程设计界面，自定义企业业务审批流程。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="对象-2">对象<a href="#对象-2" class="hash-link" aria-label="对象的直接链接" title="对象的直接链接">​</a></h4><p>审批王应用中主要涉及的对象是 <code>instances</code>，其默认的国际化内容请参考源码：</p><ul><li>Git仓库源码：<a href="https://github.com/steedos/steedos-platform/blob/master/packages/standard-objects/objectTranslations/instances.zh-CN/instances.zh-CN.objectTranslation.yml" target="_blank" rel="noopener noreferrer">instances.zh-CN.objectTranslation.yml</a></li><li>本地NPM包源码： <code>node_modules/@steedos/standard-objects/objectTranslations/instances.zh-CN/instances.zh-CN.objectTranslation.yml</code></li></ul><p>只要按上面 <a href="#%E5%AF%B9%E8%B1%A1">对象国际化</a> 小节所述，为该对象配置国际化翻译内容即可修改该对象的默认国际化效果。</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// locale/main/default/objectTranslations/instances.zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN/instances.zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN.objectTranslation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> instances</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 审批文件</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>以上翻译内容会把中文环境下审批王应用中“审批”对象显示名称改为“审批文件”。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="设置应用菜单-2">设置应用菜单<a href="#设置应用菜单-2" class="hash-link" aria-label="设置应用菜单的直接链接" title="设置应用菜单的直接链接">​</a></h4><p>上面 <a href="#%E8%AE%BE%E7%BD%AE%E5%BA%94%E7%94%A8%E8%8F%9C%E5%8D%95">设置应用菜单国际化</a> 小节描述了如何为设置应用的左侧菜单配置国际化翻译，以下翻译内容能把菜单“角色”名称改为“审批角色”。</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// locale/main/default/translations/zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN.translation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">CustomLabels</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">menu_roles</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 审批角色</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>审批王在后台设置应用的左侧菜单项的默认国际化内容请参考源码：</p><ul><li>Git仓库源码：<a href="https://github.com/steedos/steedos-platform/blob/master/packages/standard-objects/translations/zh-CN.translation.yml" target="_blank" rel="noopener noreferrer">standard-objects/translations/zh-CN.translation.yml</a></li><li>本地NPM包源码： <code>node_modules/@steedos/standard-objects/translations/zh-CN.translation.yml</code></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="审批状态菜单">审批状态菜单<a href="#审批状态菜单" class="hash-link" aria-label="审批状态菜单的直接链接" title="审批状态菜单的直接链接">​</a></h4><p>我们可以在上面 <a href="#%E5%86%85%E7%BD%AE%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F">内置自定义变量</a> 小节的参考源码中找到审批状态相关菜单的国际化内容，要修改它们，只要配置下相关翻译变量即可。</p><p>以下翻译内容重新配置了相关菜单的显示名称，并修改了部分菜单显示名称。</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// locale/main/default/translations/zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN.translation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">CustomLabels</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">inbox</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 待审批</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">outbox</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 已审批</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">draft</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 草稿</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">pending</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 进行中</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">completed</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 已完成</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">monitor</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 监控箱</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">my_instances</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 我的文件</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="按钮">按钮<a href="#按钮" class="hash-link" aria-label="按钮的直接链接" title="按钮的直接链接">​</a></h4><p>我们可以在上面 <a href="#%E5%86%85%E7%BD%AE%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F">内置自定义变量</a> 小节的参考源码中找到审批王应用中操作按钮显示名称的国际化内容，要修改它们，只要配置下相关翻译变量即可。</p><p>以下翻译内容重新配置了相关按钮的国际化内容，也修改了其中部分按钮的显示名称。</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// locale/main/default/translations/zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN.translation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">CustomLabels</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">standard_query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 搜索</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">New</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 新建文件</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">Send</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 发送</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">instance_submit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 提交</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">instance_save</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 暂存</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">instance_delete</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 删除</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">instance_cancel</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 取消申请</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">instance_reassign</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 转签核</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">instance_relocate</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 重定位</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">instance_print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 打印</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">workflow_attach_upload</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 上传附件</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="其它">其它<a href="#其它" class="hash-link" aria-label="其它的直接链接" title="其它的直接链接">​</a></h4><p>审批王应用中其他国际化相关内容都可以按上面 <a href="#%E5%86%85%E7%BD%AE%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F">内置自定义变量</a> 小节提供的方法处理，只要找到对应的变量名称即可。</p><p>比如以下翻译内容重新配置了中文环境下部分操作按钮相关的提示消息。</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// locale/main/default/translations/zh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">CN.translation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">CustomLabels</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">Saved successfully</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 申请单已暂存.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">Added successfully</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 创建成功</span><span class="token tag" style="color:rgb(255, 121, 198)">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">Deleted successfully</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 删除成功</span><span class="token tag" style="color:rgb(255, 121, 198)">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">Submitted successfully</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 提交成功</span><span class="token tag" style="color:rgb(255, 121, 198)">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">Canceled successfully</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 取消申请成功</span><span class="token tag" style="color:rgb(255, 121, 198)">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">Reassigned successfully</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Reassigned successfully</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">Relocated successfully</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 重定位成功</span><span class="token tag" style="color:rgb(255, 121, 198)">!</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="命令行">命令行<a href="#命令行" class="hash-link" aria-label="命令行的直接链接" title="命令行的直接链接">​</a></h2><p>魔方魔方提供命令行的方式批量生成对象翻译文件，方便用户快速编辑相关语种的国际化内容。</p><p>命令行中使用语法 <code>steedos i18n ${lng} [-s]</code> 能生成项目下对象的国际化文件，使用规则如下：</p><ul><li>lng: 需要生成国际化的语言, 必填 (en | zh-CN)</li><li>-s: 项目所在路径, 默认为当前目录, 选填</li><li>-p: 需要国际化的项目文件夹, 默认会国际化当前项目上的所有对象，选填</li><li>示例: <code>steedos i18n zh-CN -s D:\GitHub\steedos-project-saas</code></li><li>示例：<code>steedos i18n zh-CN -s . -p ./steedos-app</code></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="支持语种">支持语种<a href="#支持语种" class="hash-link" aria-label="支持语种的直接链接" title="支持语种的直接链接">​</a></h2><p>目前已支持语种清单如下，如果需要添加新语种，可以参考后面的示例。</p><p>我们鼓励大家共建Steedos社区，把国际化资源提交PR到Steedos <a href="https://github.com/steedos/steedos-platform" target="_blank" rel="noopener noreferrer">GitHub</a> 或 联系我们。</p><table><thead><tr><th>Code</th><th>Language</th></tr></thead><tbody><tr><td>zh-CN</td><td>简体中文</td></tr><tr><td>en</td><td>英文</td></tr></tbody></table><p>Steedos是使用 <a href="https://www.i18next.com" target="_blank" rel="noopener noreferrer">i18next</a> 实现国际化的，每个语种 <code>Code</code> 需要遵循特定规范，请参阅 <a href="https://www.i18next.com/how-to/faq#how-should-the-language-codes-be-formatted" target="_blank" rel="noopener noreferrer">how-should-the-language-codes-be-formatted</a>，比如日本语的Code为 <code>ja</code>。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="示例">示例<a href="#示例" class="hash-link" aria-label="示例的直接链接" title="示例的直接链接">​</a></h2><p>下面我们以日本语为例来说明如何在Steedos中实现新语种的国际化。</p><p>大家可以先在魔方项目中新建一个 软件包 专门用于日本语的国际化，假设我们新建了一个名为<code>locale-ja</code>的空软件包，其目录结构如下：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">locale-ja</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── main / default</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└───package.json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="项目国际化">项目国际化<a href="#项目国际化" class="hash-link" aria-label="项目国际化的直接链接" title="项目国际化的直接链接">​</a></h3><p>假设魔方项目目录在<code>/workspace/project-demo</code>，里面有一个名为“项目管理”的软件包，其目录会类似以下结构：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">steedos-demo</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───steedos-packages</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───project</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───main / default</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───applications</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───objects</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───project</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───project_task</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───└───package.json</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───locale-ja</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───main / default</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───└───package.json</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└───package.json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>我们接下来打开命令行在项目根目录，即<code>steedos-demo</code>下执行以下命令来生成名为<code>project</code>的软件包文件夹下的各种类型元数据对应的翻译文件：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">steedos i18n ja -s </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">.</span><span class="token plain"> -p /workspace/steedos-demo/steedos-packages/project/main</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>命令执行成功后会在<code>steedos-packages/project/main/default/objects</code>同级生成新的国际化资源文件夹，其目录会类似以下结构：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">steedos-demo</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───steedos-packages</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───project</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───main / default</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───applications</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───objects</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───project</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───project_task</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">//项目软件包 project 日本语国际化</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───objectTranslations</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───project.ja</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───├───project.ja.objectTranslation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───project_task.j</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───├───project_task.ja.objectTranslation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───translations</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───ja.translation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───└───package.json</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───locale-ja</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───main / default</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───└───package.json</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└───package.json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>从上面的目录变化可以看出，在文件夹<code>objectTranslations</code>中增加了两个对象对应的日本语翻译资源文件，另外在文件夹<code>translations</code>中也增加了一个日本语的翻译资源文件，用于存放其他 <a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F">自定义变量</a> 的翻译内容。</p><p>我们可以进一步把日本语国际化相关内容迁移到专门的软件包 <code>locale-ja</code> 中，迁移后目录会类似以下结构：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">steedos-demo</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───steedos-packages</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───project</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───main / default</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───applications</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───objects</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───project</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───project_task</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───└───package.json</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───locale-ja</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───main / default</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">//项目软件包 project 中对象级别元数据日本语国际化</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───objectTranslations</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───project.ja</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───├───project.ja.objectTranslation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───project_task.j</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───├───project_task.ja.objectTranslation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───translations</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">//项目软件包 project 中其他元数据日本语国际化</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───ja.translation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───└───package.json</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└───package.json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>当然，把日本语翻译资源文件迁移到统一的日本语国际化软件包中这步不是必须的，只是一种推荐方式，这样可以把新加的语种国际化内容在一个软件包中统一维护。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="平台国际化">平台国际化<a href="#平台国际化" class="hash-link" aria-label="平台国际化的直接链接" title="平台国际化的直接链接">​</a></h3><p>上面我们描述了如何结合 <code>steedos i18n</code> 命令快速实现为项目中的元数据添加日本语国际化资源文件的方法，但是我们实际上决定为Steedos添加一种全新的国际化语种时，是需要先为平台本身实现新语种的国际化的。</p><p>类似的，我们以为平台 <a href="#standard-object-database">standard-object-database</a> 包添加日本语国际化资源文件为例。</p><p>要通过 <code>steedos i18n</code> 命令为平台内置元数据添加国际化资源文件，需要先把 <a href="https://github.com/steedos/steedos-platform" target="_blank" rel="noopener noreferrer">平台源码</a> 克隆下来。</p><p>假设我们把平台源码克隆到项目同级文件夹下，打开命令行在项目根目录，即steedos-demo文件夹下执行以下指令来生成平台中名为standard-object-database的软件包文件夹下的各种类型元数据对应的翻译文件：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">steedos i18n ja -s </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">.</span><span class="token plain"> -p /workspace/steedos-platform/services/standard-object-database/main</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>命令执行成功后会在平台源码 <code>steedos-platform/services/standard-object-database/main/default/objects</code> 同级生成新的国际化资源文件夹。</p><p>我们把平台源码中新生成的文件夹复制到我们国际化软件包中后，目录会类似以下结构：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">steedos-demo</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───steedos-packages</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───project</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───main / default</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───applications</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───objects</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───project</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───project_task</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───└───package.json</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───locale-ja</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───main / default</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">//项目软件包 project 中对象级别元数据日本语国际化</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───objectTranslations</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───project.ja</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───├───project.ja.objectTranslation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───project_task.j</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───├───project_task.ja.objectTranslation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">//平台软件包 standard-object-database 中对象级别元数据日本语国际化</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───objects.ja</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───├───objects.ja.objectTranslation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───object_fields.ja</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───├───object_fields.ja.objectTranslation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───translations</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">//项目和平台中其他元数据日本语国际化</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───├───├───├───ja.translation.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───├───└───package.json</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└───package.json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>为平台中其他软件包的元数据添加日本语国际化资源文件的方法与上面为平台软件包 <code>standard-object-database</code> 实现日本语国际化方法是一样的。</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/steedos/steedos-docs/tree/master/i18n/zh-CN/docusaurus-plugin-content-docs/current/developer/service/locale.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh-CN/developer/service/objectql"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">ObjectQL</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh-CN/developer/service/moleculer/"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Moleculer 微服务框架</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#资源文件" class="table-of-contents__link toc-highlight">资源文件</a><ul><li><a href="#对象" class="table-of-contents__link toc-highlight">对象</a></li><li><a href="#设置应用菜单" class="table-of-contents__link toc-highlight">设置应用菜单</a></li><li><a href="#其他" class="table-of-contents__link toc-highlight">其他</a></li></ul></li><li><a href="#元数据" class="table-of-contents__link toc-highlight">元数据</a><ul><li><a href="#对象-1" class="table-of-contents__link toc-highlight">对象</a></li><li><a href="#字段" class="table-of-contents__link toc-highlight">字段</a></li><li><a href="#列表视图" class="table-of-contents__link toc-highlight">列表视图</a></li><li><a href="#操作按钮" class="table-of-contents__link toc-highlight">操作按钮</a></li><li><a href="#自定义变量" class="table-of-contents__link toc-highlight">自定义变量</a></li><li><a href="#应用" class="table-of-contents__link toc-highlight">应用</a></li><li><a href="#设置应用菜单-1" class="table-of-contents__link toc-highlight">设置应用菜单</a></li><li><a href="#系统消息" class="table-of-contents__link toc-highlight">系统消息</a></li><li><a href="#审批王" class="table-of-contents__link toc-highlight">审批王</a></li></ul></li><li><a href="#命令行" class="table-of-contents__link toc-highlight">命令行</a></li><li><a href="#支持语种" class="table-of-contents__link toc-highlight">支持语种</a></li><li><a href="#示例" class="table-of-contents__link toc-highlight">示例</a><ul><li><a href="#项目国际化" class="table-of-contents__link toc-highlight">项目国际化</a></li><li><a href="#平台国际化" class="table-of-contents__link toc-highlight">平台国际化</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Steedos Inc.</div></div></div></footer></div>
<script src="/zh-CN/assets/js/runtime~main.61d37101.js"></script>
<script src="/zh-CN/assets/js/main.46b20a29.js"></script>
</body>
</html>