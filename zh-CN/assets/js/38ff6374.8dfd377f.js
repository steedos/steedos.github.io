"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[722],{86696:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>o,contentTitle:()=>c,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>p});var t=n(74848),s=n(28453);const i={title:"GraphQL"},c=void 0,a={id:"developer/service/service-api/service-graphql",title:"GraphQL",description:"\u8c03\u7528 GraphQL \u5fae\u670d\u52a1\uff0c\u53ef\u4ee5\u5b9e\u73b0\u5728\u670d\u52a1\u7aef\u6267\u884c GrahpQL \u67e5\u8be2\u3002",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/developer/service/service-api/service-graphql.mdx",sourceDirName:"developer/service/service-api",slug:"/developer/service/service-api/service-graphql",permalink:"/zh-CN/developer/service/service-api/service-graphql",draft:!1,unlisted:!1,editUrl:"https://github.com/steedos/steedos-docs/tree/master/i18n/zh-CN/docusaurus-plugin-content-docs/current/developer/service/service-api/service-graphql.mdx",tags:[],version:"current",frontMatter:{title:"GraphQL"},sidebar:"developer",previous:{title:"\u5e73\u53f0\u5fae\u670d\u52a1",permalink:"/zh-CN/developer/service/service-api/"},next:{title:"\u63a8\u9001\u901a\u77e5",permalink:"/zh-CN/developer/service/service-api/service-push"}},o={},p=[];function l(e){const r={code:"code",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.p,{children:"\u8c03\u7528 GraphQL \u5fae\u670d\u52a1\uff0c\u53ef\u4ee5\u5b9e\u73b0\u5728\u670d\u52a1\u7aef\u6267\u884c GrahpQL \u67e5\u8be2\u3002"}),"\n",(0,t.jsx)(r.p,{children:"\u5982\u679c\u67e5\u8be2 GraphQL \u9700\u8981\u5e26\u4e0a\u5f53\u524d\u7528\u6237\u7684\u6743\u9650\uff0c\u9700\u8981\u4f20\u5165 user \u5c5e\u6027\u3002"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-js",children:"actions: {\n    graphqlQuery: {\n        rest: { method: 'GET', path: '/graphql' },\n        // \u5728\u5fae\u670d\u52a1\u4e2d\u67e5\u8be2\u6570\u636e\u5e93\n        async handler(ctx) {\n            return await this.broker.call('api.graphql', {\n                query: `\n                    query {\n                    space_users(filters: [\"user\", \"=\", \"${ctx.meta.user.userId}\"]) {\n                        name\n                        organization__expand {\n                        name\n                        }\n                    }\n                    }\n                `},\n                // \u5982\u679c\u67e5\u8be2 GraphQL \u9700\u8981\u5e26\u4e0a\u5f53\u524d\u7528\u6237\u7684\u6743\u9650\uff0c\u9700\u8981\u4f20\u5165 user \u5c5e\u6027\u3002\n                {\n                    meta: {\n                        user: ctx.meta.user\n                    }\n                }\n            );\n        },\n    }\n}\n"})})]})}function u(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},28453:(e,r,n)=>{n.d(r,{R:()=>c,x:()=>a});var t=n(96540);const s={},i=t.createContext(s);function c(e){const r=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),t.createElement(i.Provider,{value:r},e.children)}}}]);