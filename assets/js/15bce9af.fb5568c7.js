"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[815],{54157:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>l});var t=i(74848),o=i(28453);const s={},c="Event Actions",a={id:"developer/micro-page/amis/event",title:"Event Actions",description:"In AMIS, events and actions are key to implementing complex UI interactions. They allow developers to listen for component events and respond with corresponding actions without worrying about component hierarchy. The capabilities of events and actions include, but are not limited to:",source:"@site/docs/developer/micro-page/amis/7_event.md",sourceDirName:"developer/micro-page/amis",slug:"/developer/micro-page/amis/event",permalink:"/developer/micro-page/amis/event",draft:!1,unlisted:!1,editUrl:"https://github.com/steedos/steedos-docs/tree/master/docs/developer/micro-page/amis/7_event.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{},sidebar:"developer",previous:{title:"Linkage Mechanism",permalink:"/developer/micro-page/amis/linkage"},next:{title:"Custom Styles",permalink:"/developer/micro-page/amis/styles"}},r={},l=[{value:"Basic Usage",id:"basic-usage",level:3},{value:"Context",id:"context",level:3},{value:"Runtime Log",id:"runtime-log",level:3},{value:"Classification of Events and Actions",id:"classification-of-events-and-actions",level:3},{value:"Triggering General Actions",id:"triggering-general-actions",level:3},{value:"Triggering Component&#39;s Actions",id:"triggering-components-actions",level:3},{value:"Triggering Broadcast Actions",id:"triggering-broadcast-actions",level:3},{value:"Orchestration of Actions",id:"orchestration-of-actions",level:3},{value:"More Events",id:"more-events",level:3},{value:"More Actions",id:"more-actions",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"event-actions",children:"Event Actions"}),"\n",(0,t.jsx)(n.p,{children:"In AMIS, events and actions are key to implementing complex UI interactions. They allow developers to listen for component events and respond with corresponding actions without worrying about component hierarchy. The capabilities of events and actions include, but are not limited to:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"HTTP Requests"}),": Sending HTTP requests."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Popup Notifications"}),": Executing popups, drawer openings, and Toast notifications."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Page Navigation"}),": Implementing page link navigation."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Browser Operations"}),": Includes back, forward, refresh, etc."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Component Refresh"}),": Linkage refresh of form data, i.e., data reloaded."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Component State Control"}),": Controlling the display/hide, enable/disable, and view/edit states of a specified component."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Component-Specific Actions"}),": Executing proprietary actions of a specified component, such as submitting a form."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Component Data Update"}),": Updating the data domain of a specified component."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Broadcast"}),": Multiple components listen to the same event and respond differently."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"JS Scripts"}),": Implementing required logic by writing JS code snippets, also supports executing actions within JS code."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Logic Orchestration"}),": Logical operations such as conditions, loops, exclusivity, parallelism, etc."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"onEvent"})," property can be used to bind renderer events to response actions. Within ",(0,t.jsx)(n.code,{children:"onEvent"}),", configure the event and action mapping relationship, where ",(0,t.jsx)(n.code,{children:"actions"})," is a collection of response actions corresponding to the event.\nThe event system is the cornerstone of implementing interactive logic in AMIS. It allows developers to listen to and respond to user actions or system-triggered events. This section will delve into AMIS's event system, including types of events, listening, and handling."]}),"\n",(0,t.jsx)(n.p,{children:"For example: Listen to the click event of a button and execute a toast action. The code is as follows:"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Events usually carry parameters, which contain information related to the event. Here it is passed through args."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "type": "page",\n  "body": [\n    {\n      "type": "button",\n      "label": "Toggle",\n      "onEvent": {\n        "click": {\n          "actions": [\n            {\n              "actionType": "toast",\n              "args": {\n                "msg": "I am a global message"\n              }\n            }\n          ]\n        }\n      },\n      "id": "u:e127ddcd70c4"\n    }\n  ],\n  "id": "u:94c822247387"\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"context",children:"Context"}),"\n",(0,t.jsxs)(n.p,{children:["When executing actions, you can obtain the event object's data through ",(0,t.jsx)(n.code,{children:"${event.data}"})," and the component's current data domain through ",(0,t.jsx)(n.code,{children:"${__rendererData}"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"runtime-log",children:"Runtime Log"}),"\n",(0,t.jsx)(n.p,{children:"View the runtime log in the browser console to see the process and result of the action execution."}),"\n",(0,t.jsx)(n.h3,{id:"classification-of-events-and-actions",children:"Classification of Events and Actions"}),"\n",(0,t.jsxs)(n.p,{children:["Events include renderer events and broadcast events. Actions include general actions, component actions, broadcast actions, and custom actions, which can be specified by configuring ",(0,t.jsx)(n.code,{children:"actionType"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"triggering-general-actions",children:"Triggering General Actions"}),"\n",(0,t.jsx)(n.p,{children:"General actions include sending HTTP requests, jumping links, browser operations, popup notifications, copying, sending emails, refreshing, controlling display and hide, controlling enable and disable states, updating data, etc."}),"\n",(0,t.jsx)(n.h3,{id:"triggering-components-actions",children:"Triggering Component's Actions"}),"\n",(0,t.jsxs)(n.p,{children:["Trigger specific component's actions by configuring ",(0,t.jsx)(n.code,{children:"componentId"})," or ",(0,t.jsx)(n.code,{children:"componentName"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"triggering-broadcast-actions",children:"Triggering Broadcast Actions"}),"\n",(0,t.jsxs)(n.p,{children:["Implement triggering a broadcast by configuring ",(0,t.jsx)(n.code,{children:"actionType: 'broadcast'"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"orchestration-of-actions",children:"Orchestration of Actions"}),"\n",(0,t.jsx)(n.p,{children:"Implement action orchestration by configuring different logical actions, supporting nesting."}),"\n",(0,t.jsx)(n.h3,{id:"more-events",children:"More Events"}),"\n",(0,t.jsx)(n.p,{children:'On the AMIS official website\'s "Components" page, you can find more events that each component can trigger.\nFor example, for the key-value pair component, you can find the corresponding component introduction page, then scroll to the "Event Table" section.\nYou can see there are add and delete events.'}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image.png",src:i(34794).A+"",width:"1296",height:"586"})}),"\n",(0,t.jsx)(n.h3,{id:"more-actions",children:"More Actions"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Triggering General Actions: Can be found on the AMIS official website at ",(0,t.jsx)(n.a,{href:"https://aisuda.bce.baidu.com/amis/zh-CN/docs/concepts/event-action#%E8%A7%A6%E5%8F%91%E9%80%9A%E7%94%A8%E5%8A%A8%E4%BD%9C",children:"amis event actions - triggering general actions"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Component-Specific Actions: Can be found on the component detail page."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image.png",src:i(65396).A+"",width:"1296",height:"586"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"References"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://aisuda.bce.baidu.com/amis/zh-CN/docs/concepts/event-action",children:"amis event actions"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://aisuda.bce.baidu.com/amis/zh-CN/docs/concepts/action",children:"amis actions"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Through this section, you should have a basic understanding of the AMIS event system. Mastering event listening and handling will enable you to build dynamic interfaces that respond to user operations. In the following chapters, we will explore how to combine the event system with other features of AMIS to implement more complex interaction logic."})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},65396:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/amis-more-actions-b8d965ba675ac3c87c746c15e0875cc0.png"},34794:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/amis-more-events-7c14ff5f3cd631ffd43b8ff3eedf5e63.png"},28453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>a});var t=i(96540);const o={},s=t.createContext(o);function c(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);