"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1075],{92055:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>d});var a=t(74848),s=t(28453);const o={title:"Internationalization",sidebar_position:90},i=void 0,l={id:"developer/service/locale",title:"Internationalization",description:"Steedos is a low-code platform that supports multiple languages. We can override the default translated content of the system by writing internationalization resource files in the software package, which enables internationalization.",source:"@site/docs/developer/service/locale.mdx",sourceDirName:"developer/service",slug:"/developer/service/locale",permalink:"/developer/service/locale",draft:!1,unlisted:!1,editUrl:"https://github.com/steedos/steedos-docs/tree/master/docs/developer/service/locale.mdx",tags:[],version:"current",sidebarPosition:90,frontMatter:{title:"Internationalization",sidebar_position:90},sidebar:"developer",previous:{title:"ObjectQL",permalink:"/developer/service/objectql"},next:{title:"Moleculer Microservices Framework",permalink:"/developer/service/moleculer/"}},r={},d=[{value:"Resource Files",id:"resource-files",level:2},{value:"Objects",id:"objects",level:3},{value:"standard-cms",id:"standard-cms",level:4},{value:"standard-collaboration",id:"standard-collaboration",level:4},{value:"standard-object-database",id:"standard-object-database",level:4},{value:"standard-permission",id:"standard-permission",level:4},{value:"standard-process-approval",id:"standard-process-approval",level:4},{value:"standard-ui",id:"standard-ui",level:4},{value:"Setting Application Menu",id:"setting-application-menu",level:3},{value:"Other",id:"other",level:3},{value:"Metadata",id:"metadata",level:2},{value:"Object",id:"object",level:3},{value:"Deploy",id:"deploy",level:4},{value:"Add Translation Files",id:"add-translation-files",level:4},{value:"Revise translation content",id:"revise-translation-content",level:4},{value:"Translation of the Base object",id:"translation-of-the-base-object",level:4},{value:"Translation of Built-in Objects",id:"translation-of-built-in-objects",level:4},{value:"Field",id:"field",level:3},{value:"Field groups",id:"field-groups",level:4},{value:"The dropdown options",id:"the-dropdown-options",level:4},{value:"Other properties of fields",id:"other-properties-of-fields",level:4},{value:"Listview",id:"listview",level:3},{value:"Button",id:"button",level:3},{value:"Custom variables",id:"custom-variables",level:3},{value:"add custom variables",id:"add-custom-variables",level:4},{value:"Using custom variables",id:"using-custom-variables",level:4},{value:"Error message in trigger",id:"error-message-in-trigger",level:6},{value:"Displaying Variable Values in Front-End Scripts",id:"displaying-variable-values-in-front-end-scripts",level:6},{value:"translation in a custom API interface",id:"translation-in-a-custom-api-interface",level:6},{value:"built-in custom variables",id:"built-in-custom-variables",level:4},{value:"Modifying Custom Variables",id:"modifying-custom-variables",level:4},{value:"Application",id:"application",level:3},{value:"Setting up Application Menu",id:"setting-up-application-menu",level:3},{value:"System Message",id:"system-message",level:3},{value:"Command Line Interface",id:"command-line-interface",level:2},{value:"Supported Languages",id:"supported-languages",level:2},{value:"Example",id:"example",level:2},{value:"Project Internationalization",id:"project-internationalization",level:3},{value:"Platform Internationalization",id:"platform-internationalization",level:3}];function c(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",h6:"h6",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"Steedos is a low-code platform that supports multiple languages. We can override the default translated content of the system by writing internationalization resource files in the software package, which enables internationalization."}),"\n",(0,a.jsxs)(n.p,{children:["We encourage users to directly modify internationalization resource files in the Steedos ",(0,a.jsx)(n.a,{href:"https://github.com/steedos/steedos-platform",children:"GitHub"})," open source code and submit pull requests."]}),"\n",(0,a.jsx)(n.p,{children:'For those who want to implement internationalization in their Steedos project, we recommend creating a dedicated software package for all internationalization-related content. This makes it easier to maintain, upgrade, and deploy internationalization by module. For example, you could create a software package called "locale," and all internationalization-related tutorials could be developed in this package.'}),"\n",(0,a.jsx)(n.h2,{id:"resource-files",children:"Resource Files"}),"\n",(0,a.jsx)(n.p,{children:"Below are the corresponding locations for the internationalization resource files of Steedos source code in China, where the files or file names containing zh-CN are for the Chinese resource files and en represents English resource files."}),"\n",(0,a.jsx)(n.h3,{id:"objects",children:"Objects"}),"\n",(0,a.jsx)(n.p,{children:"The internationalization resource files for object metadata like objects, object fields, list views, action buttons, etc. are in the following source codes\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Git repository source code\uff1a",(0,a.jsx)(n.a,{href:"https://github.com/steedos/steedos-platform/blob/master/packages/standard-objects/objectTranslations",children:"standard-objects/objectTranslations"})]}),"\n",(0,a.jsxs)(n.li,{children:["Local NPM package source code\uff1a ",(0,a.jsx)(n.code,{children:"node_modules/@steedos/standard-objects/objectTranslations"})]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"The latest version of Steedos has already split some of the built-in objects from the standard-objects software package into the following packages."}),"\n",(0,a.jsx)(n.h4,{id:"standard-cms",children:"standard-cms"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Git repository source code\uff1a",(0,a.jsx)(n.a,{href:"https://github.com/steedos/steedos-platform/blob/master/services/standard-cms/main/default/objectTranslations",children:"standard-cms/objectTranslations"})]}),"\n",(0,a.jsxs)(n.li,{children:["Local NPM package source code\uff1a ",(0,a.jsx)(n.code,{children:"node_modules/@steedos/standard-cms/main/default/objectTranslations"})]}),"\n"]}),"\n",(0,a.jsx)(n.h4,{id:"standard-collaboration",children:"standard-collaboration"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Git repository source code\uff1a",(0,a.jsx)(n.a,{href:"https://github.com/steedos/steedos-platform/blob/master/services/standard-collaboration/main/default/objectTranslations",children:"standard-collaboration/objectTranslations"})]}),"\n",(0,a.jsxs)(n.li,{children:["Local NPM package source code\uff1a ",(0,a.jsx)(n.code,{children:"node_modules/@steedos/standard-collaboration/main/default/objectTranslations"})]}),"\n"]}),"\n",(0,a.jsx)(n.h4,{id:"standard-object-database",children:"standard-object-database"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Git repository source code\uff1a",(0,a.jsx)(n.a,{href:"https://github.com/steedos/steedos-platform/blob/master/services/standard-object-database/main/default/objectTranslations",children:"standard-object-database/objectTranslations"})]}),"\n",(0,a.jsxs)(n.li,{children:["Local NPM package source code\uff1a ",(0,a.jsx)(n.code,{children:"node_modules/@steedos/standard-object-database/main/default/objectTranslations"})]}),"\n"]}),"\n",(0,a.jsx)(n.h4,{id:"standard-permission",children:"standard-permission"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Git repository source code\uff1a",(0,a.jsx)(n.a,{href:"https://github.com/steedos/steedos-platform/blob/master/services/standard-permission/main/default/objectTranslations",children:"standard-permission/objectTranslations"})]}),"\n",(0,a.jsxs)(n.li,{children:["Local NPM package source code\uff1a ",(0,a.jsx)(n.code,{children:"node_modules/@steedos/standard-permission/main/default/objectTranslations"})]}),"\n"]}),"\n",(0,a.jsx)(n.h4,{id:"standard-process-approval",children:"standard-process-approval"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Git repository source code\uff1a",(0,a.jsx)(n.a,{href:"https://github.com/steedos/steedos-platform/blob/master/services/standard-process-approval/main/default/objectTranslations",children:"standard-process-approval/objectTranslations"})]}),"\n",(0,a.jsxs)(n.li,{children:["Local NPM package source code\uff1a ",(0,a.jsx)(n.code,{children:"node_modules/@steedos/standard-process-approval/main/default/objectTranslations"})]}),"\n"]}),"\n",(0,a.jsx)(n.h4,{id:"standard-ui",children:"standard-ui"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Git repository source code\uff1a",(0,a.jsx)(n.a,{href:"https://github.com/steedos/steedos-platform/blob/master/services/standard-ui/main/default/objectTranslations",children:"standard-ui/objectTranslations"})]}),"\n",(0,a.jsxs)(n.li,{children:["Local NPM package source code\uff1a ",(0,a.jsx)(n.code,{children:"node_modules/@steedos/standard-ui/main/default/objectTranslations"})]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"setting-application-menu",children:"Setting Application Menu"}),"\n",(0,a.jsx)(n.p,{children:"The internationalization resource files for the menu item of the Setting Application's left-hand menu are in the following source code\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Git repository source code\uff1a",(0,a.jsx)(n.a,{href:"https://github.com/steedos/steedos-platform/blob/master/packages/standard-objects/translations",children:"standard-objects/translations"})]}),"\n",(0,a.jsxs)(n.li,{children:["Local NPM package source code\uff1a ",(0,a.jsx)(n.code,{children:"node_modules/@steedos/standard-objects/translations"})]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"other",children:"Other"}),"\n",(0,a.jsx)(n.p,{children:"Other internationalization variables are in the following source code\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Git repository source code\uff1a",(0,a.jsx)(n.a,{href:"https://github.com/steedos/steedos-platform/tree/master/packages/i18n/translations",children:"i18n/translations"})]}),"\n",(0,a.jsxs)(n.li,{children:["Local NPM package source code\uff1a ",(0,a.jsx)(n.code,{children:"node_modules/@steedos/i18n/translations"})]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"metadata",children:"Metadata"}),"\n",(0,a.jsx)(n.p,{children:"Steedos achieves internationalization by adding translation resource files to various types of metadata. Below are the details for internationalization implementation for each metadata type."}),"\n",(0,a.jsx)(n.h3,{id:"object",children:"Object"}),"\n",(0,a.jsx)(n.p,{children:'In metadata for objects and object fields, it\'s possible to define relevant display names. For example, in Steedos, there is an object named "company," and by defining its label attribute, the display name for this object can be configured. In the Chinese environment, this object is displayed as "\u5206\u90e8," while in English it is displayed as "Company." The following steps can be taken to change the translation of this object to "\u5206\u516c\u53f8" and "Sub Corporation," as well as change the name of the field named "\u5206\u90e8\u4ee3\u7801" to "\u5206\u516c\u53f8\u4ee3\u7801."'}),"\n",(0,a.jsx)(n.h4,{id:"deploy",children:"Deploy"}),"\n",(0,a.jsx)(n.p,{children:"If internationalization translation content is added for a newly created object on the visual interface, it's recommended to synchronize the metadata for this object with the code to implement source code version control. Please refer to the tutorial for details on how to synchronize metdata. However, this is not mandatory, as objects that have not been synchronized with code also support internationalization implementation through the following steps."}),"\n",(0,a.jsx)(n.h4,{id:"add-translation-files",children:"Add Translation Files"}),"\n",(0,a.jsx)(n.p,{children:'Create an "objectTranslations" folder under the "default" folder in the package, under which create two sibling folders named "company.en" and "company.zh-CN," corresponding to the two languages of Chinese and English, and finally create YML configuration files for the translations of both languages respectively.'}),"\n",(0,a.jsx)(n.p,{children:"The directory structure is as follows:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"locale\n\u251c\u2500\u2500 main / default\n\u2514\u2500\u2500\u2500\u251c\u2500\u2500 objectTranslations\n    \u2514\u2500\u2500\u2500\u251c\u2500\u2500 company.en\n        |   \u2514\u2500\u2500 company.en.objectTranslation.yml\n        \u2514\u2500\u2500 company.zh-CN\n            \u2514\u2500\u2500 company.zh-CN.objectTranslation.yml\n"})}),"\n",(0,a.jsx)("alert",{type:"info",children:(0,a.jsx)(n.p,{children:"Important note to keep in mind while adding internationalization files: Please add files as needed. If Chinese translation is needed, add the Chinese translation file; if English translation is needed, add the English translation file. It's not permissible to add a file with empty content, as this could cause the server program to throw an exception error message."})}),"\n",(0,a.jsx)(n.h4,{id:"revise-translation-content",children:"Revise translation content"}),"\n",(0,a.jsx)(n.p,{children:'"To add translation content in a newly created YAML file, the following two files provide rewritten Chinese and English display names for the company object and its fields."'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"// locale/main/default/objectTranslations/company.zh-CN/company.zh-CN.objectTranslation.yml\nname: company\nlabel: \u5206\u516c\u53f8\nfields:\n  code: \n    label: '\u5206\u516c\u53f8\u4ee3\u7801'\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"// locale/main/default/objectTranslations/company.en/company.en.objectTranslation.yml\nname: company\nlabel: Sub Corporation\nfields:\n  code: \n    label: 'Sub Corporation Code'\n"})}),"\n",(0,a.jsx)(n.h4,{id:"translation-of-the-base-object",children:"Translation of the Base object"}),"\n",(0,a.jsx)(n.p,{children:'Steedos Base object is used to configure common properties of all objects, including common internationalization for all objects. This allows default internationalization content to be set for common fields, standard action buttons, and other common features on all objects, without having to manually set them on each object."'}),"\n",(0,a.jsx)(n.p,{children:"For reference to the internationalization content of the built-in Base object, please consult the source code\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Git repository source code\uff1a",(0,a.jsx)(n.a,{href:"https://github.com/steedos/steedos-platform/blob/master/packages/standard-objects/objectTranslations/base.zh-CN/base.zh-CN.objectTranslation.yml",children:"base.zh-CN.objectTranslation.yml"})]}),"\n",(0,a.jsxs)(n.li,{children:["Local NPM package source code\uff1a ",(0,a.jsx)(n.code,{children:"node_modules/@steedos/standard-objects/objectTranslations/base.zh-CN/base.zh-CN.objectTranslation.yml"})]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Similar to implementing internationalization for a specific object, the first step in implementing internationalization for the Base object is to add internationalization translation files."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"locale\n\u251c\u2500\u2500 main / default\n\u2514\u2500\u2500\u2500\u251c\u2500\u2500 objectTranslations\n    \u2514\u2500\u2500\u2500\u251c\u2500\u2500 base.en\n        |   \u2514\u2500\u2500 base.en.objectTranslation.yml\n        \u2514\u2500\u2500 base.zh-CN\n            \u2514\u2500\u2500 base.zh-CN.objectTranslation.yml\n"})}),"\n",(0,a.jsx)(n.p,{children:"Next, the corresponding translation content needs to be set to achieve internationalization for the Base object. We only need to add the same-named internationalization variables from the aforementioned Base internationalization source code and define their translation content to modify the default internationalization content."}),"\n",(0,a.jsx)(n.p,{children:"The following translation content changes the display name of the '\u5206\u90e8' field to '\u5355\u4f4d' in the Chinese environment, and modifies the display names of the '\u65b0\u5efa' and '\u7f16\u8f91' standard operation buttons. After adding them, all default related internationalization configurations for objects will correspondingly change. After restarting the service, the effect can be seen"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"// locale/main/default/objectTranslations/base.zh-CN/base.zh-CN.objectTranslation.yml\nname: base\nlabel: base\nfields:\n  company_id: \n    label: '\u5355\u4f4d'\n  company_ids: \n    label: '\u6240\u5c5e\u5355\u4f4d'\nactions:\n  standard_new:\n    label: \u521b\u5efa\n  standard_edit:\n    label: \u4fee\u6539\n"})}),"\n",(0,a.jsx)(n.h4,{id:"translation-of-built-in-objects",children:"Translation of Built-in Objects"}),"\n",(0,a.jsx)(n.p,{children:"The following is the source code for the internationalization translation file of some built-in objects:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Git repository source code\uff1a",(0,a.jsx)(n.a,{href:"https://github.com/steedos/steedos-platform/blob/master/packages/standard-objects/objectTranslations",children:"standard-objects/objectTranslations"})]}),"\n",(0,a.jsxs)(n.li,{children:["Local NPM package source code\uff1a ",(0,a.jsx)(n.code,{children:"node_modules/@steedos/standard-objects/objectTranslations"})]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"To modify the internationalization content of these built-in objects, follow the above-mentioned operation steps, add translation files first, and then modify the translation content. As long as different translation content values are configured for the same-named internationalization variables on the object, the modified effect can be seen after restarting the service."}),"\n",(0,a.jsx)(n.h3,{id:"field",children:"Field"}),"\n",(0,a.jsx)(n.p,{children:'As part of the object, the internationalization translation of fields is done in conjunction with objects. Please refer to the above-mentioned steps of "Object Internationalization" to achieve field internationalization. Add the translation files first and then modify the translation content.'}),"\n",(0,a.jsx)(n.h4,{id:"field-groups",children:"Field groups"}),"\n",(0,a.jsx)(n.p,{children:'However, "groups" can be configured on the fields. If we need to internationalize the translation of groups, we also need to modify the object translation file. The following translation content describes how to modify the Chinese display name of the "\u534e\u708e\u4e91" field group under the built-in object "\u516c\u53f8" in the Steedos.'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"// locale/main/default/objectTranslations/spaces.zh-CN/spaces.zh-CN.objectTranslation.yml\nname: spaces\nlabel: \u603b\u516c\u53f8\nfields:\n  api_key: \n    label: '\u5bc6\u94a5'\ngroups:\n  Developer: Steedos\n"})}),"\n",(0,a.jsx)(n.p,{children:'The translation content changes the Chinese display name of the "\u516c\u53f8" object to "\u603b\u516c\u53f8", changes the Chinese display name of the api_key field to "\u5bc6\u94a5", and changes the display name of the field group to which this field belongs from "\u534e\u708e\u4e91" to "Steedos".'}),"\n",(0,a.jsx)(n.p,{children:"The way to internationalize the fields created in the visual interface is the same as that of the built-in objects mentioned above. Simply add the relevant fields or field groups to the object translation file and set their translation text."}),"\n",(0,a.jsx)(n.h4,{id:"the-dropdown-options",children:"The dropdown options"}),"\n",(0,a.jsx)(n.p,{children:'The dropdown options for select box type fields can also be customized for internationalized translation. The following internationalized translation accomplishes the display of Chinese names of dropdown options for the "\u4f18\u5148\u7ea7" field configuration under an object named "\u9879\u76ee\u4efb\u52a1".'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yml",children:"// locale/main/default/objectTranslations/project_tasks__c.zh-CN/project_tasks__c.zh-CN.objectTranslation.yml\nname: project_tasks__c\nlabel: \u9879\u76ee\u4efb\u52a1\nfields:\n  priority__c:\n    label: \u4f18\u5148\u7ea7\n    options:\n      - label: \u9ad8\n        value: high\n      - label: \u4e2d\n        value: normal\n      - label: \u4f4e\n        value: low\n"})}),"\n",(0,a.jsx)(n.h4,{id:"other-properties-of-fields",children:"Other properties of fields"}),"\n",(0,a.jsx)(n.p,{children:'Other properties of fields, such as "\u63d0\u793a\u6587\u672c" and "\u63cf\u8ff0", can also be configured with internationalized content. The following example describes how to configure them in internationalization files.'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yml",children:"// locale/main/default/objectTranslations/project_tasks__c.zh-CN/project_tasks__c.zh-CN.objectTranslation.yml\nname: project_tasks__c\nlabel: \u9879\u76ee\u4efb\u52a1\nfields:\n  priority__c:\n    label: \u4f18\u5148\u7ea7\n    options: ...\n    help: \u672c\u5468\u4efb\u52a1\u8bf7\u9009\u62e9\u201c\u9ad8\u201d\uff0c\u4e0b\u5468\u4efb\u52a1\u8bf7\u9009\u62e9\u201c\u4e2d\u201d\uff0c\u5426\u5219\u8bf7\u9009\u62e9\u201c\u4f4e\u201d\n    description: \u63cf\u8ff0\u9879\u76ee\u4efb\u52a1\u7684\u7d27\u6025\u7a0b\u5ea6\u3002\n"})}),"\n",(0,a.jsx)(n.h3,{id:"listview",children:"Listview"}),"\n",(0,a.jsx)(n.p,{children:'Like fields, list views are also a component of an object and their internationalized translation is done together with the object. Please refer to the steps mentioned above in "Object Internationalization" to achieve list view internationalization. First, add the translation file and then modify the translation content.'}),"\n",(0,a.jsx)(n.p,{children:'The following translation content describes how to customize the Chinese and English names of the "\u6240\u6709" view of a newly created custom object named "\u9879\u76ee\u4efb\u52a1 on the visual interface.'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"// locale/main/default/objectTranslations/project_tasks__c.zh-CN/project_tasks__c.zh-CN.objectTranslation.yml\nname: project_tasks__c\nlabel: \u9879\u76ee\u4efb\u52a1\nlistviews: \n  all:\n    label: \u6240\u6709\u4efb\u52a1\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"// locale/main/default/objectTranslations/project_tasks__c.en/project_tasks__c.en.objectTranslation.yml\nname: project_tasks__c\nlabel: Project Tasks\nlistviews: \n  all:\n    label: All Tasks\n"})}),"\n",(0,a.jsx)("alert",{type:"info",children:(0,a.jsx)(n.p,{children:'Please note that when internationalizing list views, the key used in the translation file is "listviews", which is one word, while in object definitions it is "list_views" with an underscore.'})}),"\n",(0,a.jsx)(n.h3,{id:"button",children:"Button"}),"\n",(0,a.jsx)(n.p,{children:'Similar to fields and list views, action buttons are also a component of an object and their internationalized translation is done together with the object. Please refer to the steps mentioned above in "Object Internationalization" to achieve action button internationalization. First, add the translation file and then modify the translation content.'}),"\n",(0,a.jsx)(n.p,{children:'The following translation content describes how to customize the Chinese and English names of the "\u6253\u5370" button of a newly created custom object named "\u9879\u76ee\u4efb\u52a1" on the visual interface.'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"// locale/main/default/objectTranslations/project_tasks__c.zh-CN/project_tasks__c.zh-CN.objectTranslation.yml\nname: project_tasks__c\nlabel: \u9879\u76ee\u4efb\u52a1\nactions:\n  print:\n    label: \u6253\u5370\u5f53\u5929\u4efb\u52a1\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"// locale/main/default/objectTranslations/project_tasks__c.en/project_tasks__c.en.objectTranslation.yml\nname: project_tasks__c\nlabel: Project Tasks\nactions:\n  print:\n    label: Print Tasks for today\n"})}),"\n",(0,a.jsx)(n.p,{children:'Steedos provides many built-in standard action buttons, such as "New", "Edit", and "Delete". The internationalization process for these standard buttons is the same as that for custom buttons. For example, the following translation content can modify the Chinese name of the "New" button of the "Project Task" object mentioned above to "Create Project Task".'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"// locale/main/default/objectTranslations/project_tasks__c.zh-CN/project_tasks__c.zh-CN.objectTranslation.yml\nname: project_tasks__c\nlabel: Project Task\nactions:\n  standard_new:\n    label: Create Project Task\n"})}),"\n",(0,a.jsx)(n.p,{children:"To modify the display name of a certain standard action button for all objects, please refer to the above."}),"\n",(0,a.jsx)(n.p,{children:"Please refer to the source code for a list of built-in standard action buttons:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Git repository source code\uff1a",(0,a.jsx)(n.a,{href:"https://github.com/steedos/steedos-platform/blob/master/packages/standard-objects/objectTranslations/base.zh-CN/base.zh-CN.objectTranslation.yml#L137",children:"base.zh-CN.objectTranslation.yml#L137"})]}),"\n",(0,a.jsxs)(n.li,{children:["Local NPM package source code\uff1a ",(0,a.jsx)(n.code,{children:"node_modules/@steedos/standard-objects/objectTranslations/base.zh-CN/base.zh-CN.objectTranslation.yml"})]}),"\n"]}),"\n",(0,a.jsx)("alert",{type:"info",children:(0,a.jsx)(n.p,{children:'Please note that when internationalizing action buttons, the key word used in the translation file is "actions", while the button metadata defined within the object uses "buttons".'})}),"\n",(0,a.jsx)(n.h3,{id:"custom-variables",children:"Custom variables"}),"\n",(0,a.jsx)(n.p,{children:"Custom internationalization variables refer to defining a global internationalization key and writing internationalization translation content in different languages for that key."}),"\n",(0,a.jsx)(n.p,{children:'The object-level metadata mentioned above, including objects, fields, list views, action buttons, etc., have their translation resource files stored in the "objectTranslations" folder. On the other hand, the translation resource files for other metadata are stored in a folder named "translations," which is used to store custom internationalization variables. For instance, applications, settings menus, system messages, and approval workflows are all internationalized using custom variables.'}),"\n",(0,a.jsx)(n.h4,{id:"add-custom-variables",children:"add custom variables"}),"\n",(0,a.jsx)(n.p,{children:"To add custom translation variables, you first need to add a global custom translation file within the software package."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"locale\n\u251c\u2500\u2500 main / default\n\u2514\u2500\u2500\u2500\u251c\u2500\u2500 translations\n    \u251c\u2500\u2500 \u2514\u2500\u2500 en.translation.yml\n    \u2514\u2500\u2500 \u2514\u2500\u2500 zh-CN.translation.yml\n"})}),"\n",(0,a.jsx)(n.p,{children:'The following translation content adds a custom translation variable named "base_error_start_end_date" for both the Chinese and English resources.'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yml",children:"// locale/main/default/translations/zh-CN.translation.yml\nCustomLabels:\n  base_error_start_end_date: '\u7ed3\u675f\u65f6\u95f4\u4e0d\u80fd\u65e9\u4e8e\u5f00\u59cb\u65f6\u95f4'\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yml",children:"// locale/main/default/translations/en.translation.yml\nCustomLabels:\n  base_error_start_end_date: 'The end time cannot be earlier than the start time'\n"})}),"\n",(0,a.jsx)(n.p,{children:"Before adding a custom internationalization variable, it is important to first confirm whether the variable name has already been taken up by built-in custom variables or other software packages. Generally, you can call the t function in the browser console after starting the project to check whether the current key has been taken up. If the returned content is not the key itself, it means that the variable has already been taken up."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"t('base_error_start_end_date') \n"})}),"\n",(0,a.jsx)(n.p,{children:'For example, if you enter the above code in the browser console and run it, the output will be "The start time must be before the end time". This means that the variable has already been taken up, so base_error_start_end_date should not be used.'}),"\n",(0,a.jsx)(n.p,{children:"Let's try removing base from the variable name and see if it is available."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"t('error_start_end_date') \n"})}),"\n",(0,a.jsx)("alert",{type:"info",children:(0,a.jsx)(n.p,{children:"If you forcefully add a custom internationalization variable that has already been taken up by a software package, the internationalized content in the places where the variable was originally referenced will also be modified at the same time."})}),"\n",(0,a.jsx)(n.h4,{id:"using-custom-variables",children:"Using custom variables"}),"\n",(0,a.jsx)(n.p,{children:"After adding custom translation variables, we can use them in the source code of the program."}),"\n",(0,a.jsx)(n.h6,{id:"error-message-in-trigger",children:"Error message in trigger"}),"\n",(0,a.jsx)(n.p,{children:"The following example demonstrates how to use the newly added custom translation variables when throwing error messages in a trigger."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"// locale/main/default/triggers/project_tasks__c.trigger.js\nconst validateStartEndDate = function (start, end) {\n    if(start && end){\n        const startTime = start.getTime ? start.getTime() : (new Date(start)).getTime();\n        const endTime = end.getTime ? end.getTime() : (new Date(end)).getTime();\n        if(endTime - startTime < 1000){\n            throw new Error(\"base_error_start_end_date\");\n        }\n    }\n}\n\nmodule.exports = {\n    listenTo: 'project_tasks__c',\n    beforeInsert: async function () {\n        const { doc, object_name} = this;\n        validateStartEndDate(doc['start'], doc['end']);\n    },\n    beforeUpdate: async function () {\n        const { doc, object_name} = this;\n        validateStartEndDate(doc['start'], doc['end']);\n    }\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:"As can be seen from the example code above, in a trigger, as long as you directly refer to the key of the custom translation variable when throwing error messages, internationalization of error messages can be automatically implemented. The system will return the correct internationalized content based on the language set by the currently logged-in user."}),"\n",(0,a.jsx)("alert",{type:"info",children:(0,a.jsx)(n.p,{children:"Since the error message returned by the trigger will be internationalized and displayed to the end user through front-end components, there is no need to manually execute the server-side internationalization function in the trigger."})}),"\n",(0,a.jsx)(n.h6,{id:"displaying-variable-values-in-front-end-scripts",children:"Displaying Variable Values in Front-End Scripts"}),"\n",(0,a.jsx)(n.p,{children:"To display the internationalized content corresponding to the language set by the currently logged in user in a front-end script, simply call the function 't'. For example, the following script will display an error message with the internationalized content we defined earlier."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"toastr.error(t('base_error_start_end_date'));\n"})}),"\n",(0,a.jsx)(n.h6,{id:"translation-in-a-custom-api-interface",children:"translation in a custom API interface"}),"\n",(0,a.jsx)(n.p,{children:"The following example demonstrates how to use the newly added custom translation variables when returning business messages in a custom API interface."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"// locale/main/default/routes/lbs_distance.router.js\nconst express = require(\"express\");\nconst router = express.Router();\nconst core = require('@steedos/core');\n\nrouter.get('/api/lbs_distance', core.requireAuthentication, async function (req, res) {\n    try {\n        let long1 = req.query.long1;\n        let lat1 = req.query.lat1;\n        let long2 = req.query.long2;\n        let lat2 = req.query.lat2;\n        if (!long1 || !lat1 || !long2 || !lat2) {\n            throw new Error(\"lbs_distance_error_params_required\");\n        }\n        let result;\n        res.status(200).send({ result, success: true });\n    } catch (error) {\n        console.error(error);\n        res.status(200).send({ success: false, error: error.message });\n    }\n});\nexports.default = router;\n"})}),"\n",(0,a.jsx)(n.p,{children:"We need to define the variable 'lbs_distance_error_params_required' in the internationalization file. Here is the relevant content in the Chinese internationalization file:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yml",children:"// locale/main/default/translations/zh-CN.translation.yml\nCustomLabels:\n  lbs_distance_error_params_required: '\u7f3a\u5c11\u7ecf\u5ea6\u6216\u7eac\u5ea6\u53c2\u6570\uff01'\n"})}),"\n",(0,a.jsx)(n.p,{children:"In the above example, we can see that the error message returned by the '/api/lbs_distance' interface is not translated into the configured Chinese message."}),"\n",(0,a.jsx)(n.p,{children:"To obtain the translated message content, we need to call the conversion function in the front-end when retrieving the interface return message."}),"\n",(0,a.jsx)(n.p,{children:"Here is an example code for the front-end button:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  lbs_distance: function (object_name, record_id) {\n    let result = Steedos.authRequest(\"/api/lbs_distance\",{type: 'get', async: false});\n    if(!result.success){\n      toastr.error(t(result.error));\n    }\n    //...\n  },\n\n  disableVisible: function (object_name, record_id, record_permissions, record) {\n    return true;\n  }\n}\n"})}),"\n",(0,a.jsx)(n.h4,{id:"built-in-custom-variables",children:"built-in custom variables"}),"\n",(0,a.jsx)(n.p,{children:"The list of built-in custom variables can be found in the source code:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Git repository source code\uff1a",(0,a.jsx)(n.a,{href:"https://github.com/steedos/steedos-platform/tree/master/packages/i18n/translations",children:"i18n/translations"})]}),"\n",(0,a.jsxs)(n.li,{children:["Local NPM package source code\uff1a ",(0,a.jsx)(n.code,{children:"node_modules/@steedos/i18n/translations"})]}),"\n"]}),"\n",(0,a.jsx)(n.h4,{id:"modifying-custom-variables",children:"Modifying Custom Variables"}),"\n",(0,a.jsx)(n.p,{children:"To easily modify these built-in variables, we just need to add same-named variables for internationalization in the package."}),"\n",(0,a.jsx)(n.p,{children:'The following example code will change the title of the application launcher in the pop-up window of the clicked grid from "Application Launcher" to "\u6240\u6709\u5e94\u7528".'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"// locale/main/default/translations/zh-CN.translation.yml\nCustomLabels:\n  creator_app_launcher: \u6240\u6709\u5e94\u7528\n"})}),"\n",(0,a.jsx)(n.p,{children:'The following example code will modify the URL of the "Help" link in the top right corner when filling out forms in the "Approval King" application to a new address.'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"// locale/main/default/translations/zh-CN.translation.yml\nCustomLabels:\n  new_help: 'https://www.xxx.cn/docs'\n"})}),"\n",(0,a.jsx)(n.h3,{id:"application",children:"Application"}),"\n",(0,a.jsx)(n.p,{children:'Generally, I will need to configure the internationalization settings for the application name and description. Similar to the section on "Adding Custom Variables for Internationalization," we need to first add a global custom translation file in the package to achieve application internationalization.'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"locale\n\u251c\u2500\u2500 main / default\n\u2514\u2500\u2500\u2500\u251c\u2500\u2500 translations\n    \u251c\u2500\u2500 \u2514\u2500\u2500 en.translation.yml\n    \u2514\u2500\u2500 \u2514\u2500\u2500 zh-CN.translation.yml\n"})}),"\n",(0,a.jsx)(n.p,{children:"However, instead of defining the translation content under the CustomLabels node, it is placed under a node called CustomApplications."}),"\n",(0,a.jsx)(n.p,{children:'The following translation content has configured custom translation variables for the Chinese and English resources of the "Office" application with the API name of oa. After adding them and restarting the service, the effects will be visible.'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yml",children:"// locale/main/default/translations/zh-CN.translation.yml\nCustomApplications:\n  oa:\n    name: \u529e\u516c\u81ea\u52a8\u5316\n    description: \u534f\u540c\u529e\u516c\u7cfb\u7edf\uff0c\u5305\u542b\u5ba1\u6279\u3001\u6587\u6863\u3001\u516c\u544a\u3001\u4efb\u52a1\u3001\u65e5\u7a0b\u7b49\u6a21\u5757\u3002\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yml",children:"// locale/main/default/translations/en.translation.yml\nCustomApplications:\n  oa:\n    name: OA\n    description: Collaborative office system\n"})}),"\n",(0,a.jsx)(n.h3,{id:"setting-up-application-menu",children:"Setting up Application Menu"}),"\n",(0,a.jsx)(n.p,{children:"When setting up the application in the backend, there is a left-side menu. The default internationalization content for this menu item can be found in the source code:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Git repository source code\uff1a",(0,a.jsx)(n.a,{href:"https://github.com/steedos/steedos-platform/blob/master/packages/standard-objects/translations/zh-CN.translation.yml",children:"standard-objects/translations/zh-CN.translation.yml"})]}),"\n",(0,a.jsxs)(n.li,{children:["Local NPM package source code\uff1a ",(0,a.jsx)(n.code,{children:"node_modules/@steedos/standard-objects/translations/zh-CN.translation.yml"}),'\nThe following translation content modifies the name and description of the "Setting" application in the Chinese environment, and changes the left-side menu item from "Permission Set" to "Permission Group". After adding them and restarting the service, the effects will be visible.']}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yml",children:"// locale/main/default/translations/zh-CN.translation.yml\nCustomApplications:\n  admin:\n    name: system setting\n    description: system setting.\nCustomLabels:\n  menu_permission_set: Permission Group\n"})}),"\n",(0,a.jsx)(n.h3,{id:"system-message",children:"System Message"}),"\n",(0,a.jsx)(n.p,{children:"For example, the following translation content reconfigures the prompt messages related to some operation buttons in the Chinese environment."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yml",children:"// locale/main/default/translations/zh-CN.translation.yml\nCustomLabels:\n  space_users_method_disable_success: The user has been successfully disabled.\nspace_users_method_disable_error: Failed to disable user. \nspace_users_method_enable_success: The user has been successfully enabled.\nspace_users_method_enable_error: Failed to enable user. \n"})}),"\n",(0,a.jsx)(n.h2,{id:"command-line-interface",children:"Command Line Interface"}),"\n",(0,a.jsx)(n.p,{children:"teedos provides a command-line interface for batch generating object translation files, enabling users to quickly edit the internationalized content of relevant languages"}),"\n",(0,a.jsxs)(n.p,{children:["The syntax used in the command line is as follows: ",(0,a.jsx)(n.code,{children:"steedos i18n ${lng} [-s]"}),". Running this command will generate an internationalization file for the objects in the project. The usage rules are as follows:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"lng: Specifies the language in which internationalization is to be generated. Required field. (en | zh-CN)"}),"\n",(0,a.jsx)(n.li,{children:"-s: Specifies the path of the project. Default value is the current directory. Optional parameter."}),"\n",(0,a.jsx)(n.li,{children:"-p: Specifies the project folder to be internationalized. By default, all objects in the current project will be internationalized. Optional parameter."}),"\n",(0,a.jsx)(n.li,{children:"Example: steedos i18n zh-CN -s D:\\GitHub\\steedos-project-saas"}),"\n",(0,a.jsx)(n.li,{children:"Example: steedos i18n zh-CN -s . -p ./steedos-app"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"supported-languages",children:"Supported Languages"}),"\n",(0,a.jsx)(n.p,{children:"The currently supported languages are listed below. If you need to add a new language, you can refer to the example below."}),"\n",(0,a.jsxs)(n.p,{children:["We encourage everyone to join us in building the Steedos community, submitting international resources as PRs to Steedos ",(0,a.jsx)(n.a,{href:"https://github.com/steedos/steedos-platform",children:"GitHub"}),", or contacting us."]}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Code"}),(0,a.jsx)(n.th,{children:"Language"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"zh-CN"}),(0,a.jsx)(n.td,{children:"Chinese"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"en"}),(0,a.jsx)(n.td,{children:"English"})]})]})]}),"\n",(0,a.jsxs)(n.p,{children:["Steedos platform uses  ",(0,a.jsx)(n.a,{href:"https://www.i18next.com",children:"i18next"})," to implement internationalization, and each language code needs to follow a specific format. Please refer to  ",(0,a.jsx)(n.a,{href:"https://www.i18next.com/how-to/faq#how-should-the-language-codes-be-formatted",children:"how-should-the-language-codes-be-formatted"})," for details. For example, the code for Japanese is ja."]}),"\n",(0,a.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,a.jsx)(n.p,{children:"Below we use Japanese as an example to illustrate how to implement internationalization for a new language in Steedos."}),"\n",(0,a.jsx)(n.p,{children:"First, let's create a new package named locale-ja for Japanese internationalization in the Steedos project. Suppose the package is empty and the directory structure is as follows:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"locale-ja\n\u251c\u2500\u2500 main / default\n\u2514\u2500\u2500\u2500package.json\n"})}),"\n",(0,a.jsx)(n.h3,{id:"project-internationalization",children:"Project Internationalization"}),"\n",(0,a.jsx)(n.p,{children:'Assuming the Steedos project directory is /workspace/project-demo, and there is a software package named "project-management" inside it, the directory structure would look something like this:'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"steedos-demo\n\u251c\u2500\u2500\u2500steedos-packages\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500project\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500main / default\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500applications\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500objects\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500project\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500project_task\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500...\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500...\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u2514\u2500\u2500\u2500package.json\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500locale-ja\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500main / default\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u2514\u2500\u2500\u2500package.json\n\u2514\u2500\u2500\u2500package.json\n"})}),"\n",(0,a.jsx)(n.p,{children:"Next, we open the command line in the project root directory, i.e. steedos-demo, and execute the following command to generate translation files for various types of metadata under the package folder named project:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"steedos i18n ja -s . -p /workspace/steedos-demo/steedos-packages/project/main\n"})}),"\n",(0,a.jsx)(n.p,{children:"After the successful execution of the command, a new internationalization resource folder will be generated at the same level as /steedos-packages/project/main/default/objects, with a directory structure that looks something like this:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"steedos-demo\n\u251c\u2500\u2500\u2500steedos-packages\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500project\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500main / default\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500applications\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500objects\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500project\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500project_task\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500...\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500objectTranslations\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500project.ja\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500project.ja.objectTranslation.yml\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500project_task.j\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500project_task.ja.objectTranslation.yml\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500...\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500translations\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500ja.translation.yml\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500...\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u2514\u2500\u2500\u2500package.json\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500locale-ja\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500main / default\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u2514\u2500\u2500\u2500package.json\n\u2514\u2500\u2500\u2500package.json\n"})}),"\n",(0,a.jsx)(n.p,{children:"From the directory changes above, we can see that two Japanese translation resource files corresponding to the objects were added to the objectTranslations folder, and an additional Japanese translation resource file was added to the translations folder to store the translation content of other custom variables."}),"\n",(0,a.jsx)(n.p,{children:"We can further migrate the Japanese internationalization related content to a dedicated package named locale-ja. After migration, the directory structure will look something like the following:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"steedos-demo\n\u251c\u2500\u2500\u2500steedos-packages\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500project\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500main / default\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500applications\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500objects\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500project\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500project_task\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500...\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u2514\u2500\u2500\u2500package.json\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500locale-ja\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500main / default\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500objectTranslations\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500project.ja\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500project.ja.objectTranslation.yml\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500project_task.j\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500project_task.ja.objectTranslation.yml\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500...\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500translations\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500ja.translation.yml\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500...\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u2514\u2500\u2500\u2500package.json\n\u2514\u2500\u2500\u2500package.json\n"})}),"\n",(0,a.jsx)(n.p,{children:"Of course, migrating the Japanese translation resource files to a unified Japanese internationalization package is not a necessary step, but rather a recommended approach. Doing so allows for the newly added language internationalization content to be maintained in a single package."}),"\n",(0,a.jsx)(n.h3,{id:"platform-internationalization",children:"Platform Internationalization"}),"\n",(0,a.jsx)(n.p,{children:"Above, we described how to quickly add Japanese internationalization resource files for metadata in a project using the steedos i18n command. However, when we decide to add a new language for the entire Steedos platform, we need to first implement the internationalization for the platform itself."}),"\n",(0,a.jsx)(n.p,{children:"Similarly, let's take the addition of Japanese internationalization resource files for the platform package standard-object-database as an example."}),"\n",(0,a.jsx)(n.p,{children:"To add internationalization resource files for built-in metadata in the platform using the steedos i18n command, you first need to clone the platform source code."}),"\n",(0,a.jsx)(n.p,{children:"Assuming we've cloned the platform source code into a folder at the same level as the project, open the command line at the project root directory (i.e., steedos-demo folder), and run the following command to generate translation files for various types of metadata under the standard-object-database package folder in the platform:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"steedos i18n ja -s . -p /workspace/steedos-platform/services/standard-object-database/main\n"})}),"\n",(0,a.jsx)(n.p,{children:"After the command has been successfully executed, a new internationalization resource folder will be generated at the same level as the steedos-platform/services/standard-object-database/main/default/objects directory."}),"\n",(0,a.jsx)(n.p,{children:"Once we've copied the newly generated folder from the platform source code into our internationalization package, the directory structure will be similar to the following:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"steedos-demo\n\u251c\u2500\u2500\u2500steedos-packages\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500project\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500main / default\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500applications\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500objects\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500project\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500project_task\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500...\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500...\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u2514\u2500\u2500\u2500package.json\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500locale-ja\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500main / default\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500objectTranslations\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500project.ja\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500project.ja.objectTranslation.yml\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500project_task.j\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500project_task.ja.objectTranslation.yml\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500...\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500objects.ja\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500objects.ja.objectTranslation.yml\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500object_fields.ja\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500object_fields.ja.objectTranslation.yml\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500...\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500translations\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500ja.translation.yml\n\u251c\u2500\u2500\u2500\u251c\u2500\u2500\u2500\u2514\u2500\u2500\u2500package.json\n\u2514\u2500\u2500\u2500package.json\n"})}),"\n",(0,a.jsx)(n.p,{children:"The process of adding Japanese internationalization resource files for metadata in other packages in the platform is the same as the method used for implementing Japanese internationalization for the standard-object-database package in the platform."})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>l});var a=t(96540);const s={},o=a.createContext(s);function i(e){const n=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),a.createElement(o.Provider,{value:n},e.children)}}}]);